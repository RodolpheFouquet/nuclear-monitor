(window["webpackJsonpnuclear-monitor"]=window["webpackJsonpnuclear-monitor"]||[]).push([[0],{350:function(e,t,a){e.exports=a(677)},355:function(e,t,a){},428:function(e,t,a){},431:function(e,t,a){},645:function(e,t,a){},677:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(8),i=a.n(o),c=(a(355),a(26)),l=a.n(c);L.DivIcon.SVGIcon=L.DivIcon.extend({options:{circleText:"",className:"svg-icon",circleAnchor:null,circleColor:null,circleOpacity:null,circleFillColor:"rgb(255,255,255)",circleFillOpacity:null,circleRatio:.5,circleWeight:null,color:"rgb(0,102,255)",fillColor:null,fillOpacity:.4,fontColor:"rgb(0, 0, 0)",fontOpacity:"1",fontSize:null,fontWeight:"normal",iconAnchor:null,iconSize:L.point(32,48),opacity:1,popupAnchor:null,weight:2},initialize:function(e){(e=L.Util.setOptions(this,e)).iconSize=L.point(e.iconSize),e.circleAnchor?e.circleAnchor=L.point(e.circleAnchor):e.circleAnchor=L.point(Number(e.iconSize.x)/2,Number(e.iconSize.x)/2),e.circleColor||(e.circleColor=e.color),e.circleFillOpacity||(e.circleFillOpacity=e.opacity),e.circleOpacity||(e.circleOpacity=e.opacity),e.circleWeight||(e.circleWeight=e.weight),e.fillColor||(e.fillColor=e.color),e.fontSize||(e.fontSize=Number(e.iconSize.x/4)),e.iconAnchor?e.iconAnchor=L.point(e.iconAnchor):e.iconAnchor=L.point(Number(e.iconSize.x)/2,Number(e.iconSize.y)),e.popupAnchor?e.popupAnchor=L.point(e.popupAnchor):e.popupAnchor=L.point(0,-.75*e.iconSize.y),e.html=this._createSVG()},_createCircle:function(){var e=Number(this.options.circleAnchor.x),t=Number(this.options.circleAnchor.y),a=this.options.iconSize.x/2*Number(this.options.circleRatio),r=this.options.circleFillColor,n=this.options.circleFillOpacity,o=this.options.circleColor,i=this.options.circleOpacity,c=this.options.circleWeight;return'<circle class="'+(this.options.className+"-circle")+'" cx="'+e+'" cy="'+t+'" r="'+a+'" fill="'+r+'" fill-opacity="'+n+'" stroke="'+o+'" stroke-opacity='+i+'" stroke-width="'+c+'"/>'},_createPathDescription:function(){var e=Number(this.options.iconSize.y),t=Number(this.options.iconSize.x),a=Number(this.options.weight),r=a/2;return"M "+r+" "+t/2+" "+("L "+t/2+" "+(e-a)+" ")+("L "+(t-r)+" "+t/2+" ")+("A "+t/4+" "+t/4+" 0 0 0 "+r+" "+t/2+" Z")},_createPath:function(){var e=this._createPathDescription(),t=this.options.weight,a=this.options.color,r=this.options.opacity,n=this.options.fillColor,o=this.options.fillOpacity;return'<path class="'+(this.options.className+"-path")+'" d="'+e+'" stroke-width="'+t+'" stroke="'+a+'" stroke-opacity="'+r+'" fill="'+n+'" fill-opacity="'+o+'"/>'},_createSVG:function(){var e=this._createPath(),t=this._createCircle(),a=this._createText();return'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="'+(this.options.className+"-svg")+'" style="'+("width:"+this.options.iconSize.x+"px; height:"+this.options.iconSize.y+"px; "+this.options.style)+'">'+e+t+a+"</svg>"},_createText:function(){var e=this.options.fontSize+"px",t=this.options.fontWeight,a=Number(this.options.fontSize),r=this.options.circleAnchor.x,n=this.options.circleAnchor.y+.35*a,o=this.options.circleText;return'<text text-anchor="middle" x="'+r+'" y="'+n+'" style="font-size: '+e+"; font-weight: "+t+'" fill="'+this.options.fontColor.replace("rgb(","rgba(").replace(")",","+this.options.fontOpacity+")")+'">'+o+"</text>"}}),L.divIcon.svgIcon=function(e){return new L.DivIcon.SVGIcon(e)},L.Marker.SVGMarker=L.Marker.extend({options:{iconFactory:L.divIcon.svgIcon,iconOptions:{}},initialize:function(e,t){(t=L.Util.setOptions(this,t)).icon=t.iconFactory(t.iconOptions),this._latlng=e},onAdd:function(e){L.Marker.prototype.onAdd.call(this,e)},setStyle:function(e){if(this._icon){this._icon.children[0];var t=this._icon.children[0].children[0],a=this._icon.children[0].children[1];if(e.color&&!e.iconOptions){var r=e.color.replace("rgb","rgba").replace(")",","+this.options.icon.options.opacity+")"),n=e.color.replace("rgb","rgba").replace(")",","+this.options.icon.options.fillOpacity+")");t.setAttribute("stroke",r),t.setAttribute("fill",n),a.setAttribute("stroke",r),this.options.icon.fillColor=n,this.options.icon.color=r,this.options.icon.circleColor=r}if(e.opacity&&this.setOpacity(e.opacity),e.iconOptions){e.color&&(e.iconOptions.color=e.color);var o=L.Util.setOptions(this.options.icon,e.iconOptions);this.setIcon(L.divIcon.svgIcon(o))}}}}),L.marker.svgMarker=function(e,t){return new L.Marker.SVGMarker(e,t)},L.DivIcon.SVGIcon.IndicatorIcon=L.DivIcon.SVGIcon.extend({_createCircle:function(){var e=L.DivIcon.SVGIcon.prototype._createCircle.call(this),t=Number(this.options.circleAnchor.x),a=Number(this.options.circleAnchor.y),r=this.options.iconSize.x/2*Number(this.options.circleRatio),n=Math.PI*r,o=this.options.loadRate*n,i='<circle r="3" cx="'.concat(5,'" cy="',5,'"\n        style="\n          fill: red;\n          stroke: none;\n        "\n      >\n      </circle>'),c='\n        <circle r="'.concat(r/2,'" cx="').concat(t,'" cy="').concat(a,'"\n          style="\n            transform: rotateZ(-90deg);\n            transform-origin: ').concat(t,"px ").concat(a,"px;\n            fill: none;\n            stroke-width: ").concat(r,";\n            stroke: rgb(38, 166, 91);\n            stroke-dasharray: ").concat(o," ").concat(n,';\n            "\n        >\n        </circle>');return this.options.notif?e+c+i:e+c},_createSVG:function(){var e=this._createPath(),t=this._createCircle(),a=this._createText();return'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="'+(this.options.className+"-svg")+'" style="'+("width:"+this.options.iconSize.x+"px; height:"+this.options.iconSize.y+"px;")+'">'+e+t+a+"</svg>"}});var s=a(41),u=a(45),d=a(81),p=a(7),m=a.n(p),f=(a(360),a(91)),h=a(301),b=a(302),v=a(18),y=a(689),E=a(692),g=a(683),O=a(40),w=a.n(O),_=a(82),P=a(688),x=a(53),j=a.n(x);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var k="https://nuclear-monitor-backend.herokuapp.com";function N(){return C.apply(this,arguments)}function C(){return(C=Object(_.a)(w.a.mark(function e(){var t,a=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch.apply(void 0,a);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Fetch error");case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(){return(M=Object(_.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(["garonne","loire","meuse","moselle","rhin","rhone","seine"].map(function(e){return fetch("./rivers/".concat(e,".json")).then(function(e){return e.json()}).then(function(t){return I({},t,{name:e})})})));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(){return(S=Object(_.a)(w.a.mark(function e(){var t,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("".concat(k,"/plants"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(){return(A=Object(_.a)(w.a.mark(function e(){var t,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("".concat(k,"/reactors"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(){return(R=Object(_.a)(w.a.mark(function e(t){var a,r,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.date,e.next=3,N("".concat(k,"/productions?").concat(j.a.stringify({date:a})));case 3:return r=e.sent,e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(){return(Y=Object(_.a)(w.a.mark(function e(t){var a,r,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.date,e.next=3,N("".concat(k,"/unavailabilities?").concat(j.a.stringify({date:a})));case 3:return r=e.sent,e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(){return(T=Object(_.a)(w.a.mark(function e(t){var a,r,n,o,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.date,e.next=3,N("".concat(k,"/mix?").concat(j.a.stringify({date:a})));case 3:return r=e.sent,e.next=6,r.json();case 6:if(n=e.sent,!((o=n.mix).length<1)){e.next=10;break}return e.abrupt("return",[]);case 10:return i=Array.from({length:100-o.length}).map(function(){return Object(P.a)(function(){return NaN},o[0])}),e.abrupt("return",{date:n.date,mix:o.concat(i)});case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var q=a(684);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var U="PRODUCTIONS_LOAD_ACTION",W="PRODUCTIONS_RECEIVE_ACTION";function G(e){var t=e.date,a=e.data,r=e.errors;return{type:W,date:t,data:a,errors:r}}var H={};function F(e,t){var a=e.date,r=m()(a).format("YYYY-MM-DD");return t.productions[r]&&t.productions[r].loaded}var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return V({},e,Object(v.a)({},t.date,{loading:!0,loaded:!1,errors:null,data:{}}));case W:return V({},e,Object(v.a)({},t.date,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:Object(y.a)(Object(E.a)("eicCode"),t.data.productions)}));default:return e}};function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var X="UNAVAILABILITIES_LOAD_ACTION",Q="UNAVAILABILITIES_RECEIVE_ACTION";function Z(e){var t=e.date,a=e.data,r=e.errors;return{type:Q,date:t,data:a,errors:r}}var $={};function ee(e,t){var a=e.date,r=m()(a).format("YYYY-MM-DD");return t.unavailabilities[r]&&t.unavailabilities[r].loaded}var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return J({},e,Object(v.a)({},t.date,{loading:!0,loaded:!0,errors:null,data:{}}));case Q:return J({},e,Object(v.a)({},t.date,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:Object(y.a)(Object(E.a)("eicCode"),t.data)}));default:return e}};function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ne="REACTORS_LOAD_ACTION",oe="REACTORS_RECEIVE_ACTION";function ie(e){var t=e.data,a=e.errors;return{type:oe,data:t,errors:a}}var ce={loading:!1,loaded:!1,errors:null,data:{}};function le(e){return e.reactors.loaded}function se(e){return e?"PLANNED_MAINTENANCE"===e.type?0===e.availablePower_MW?"PLANNED_STOP":"PLANNED_REDUCTION":0===e.availablePower_MW?"AUTO_STOP":"UNPLANNED_REDUCTION":"RUNNING"}function ue(e,t){var a=e.eicCode,r=e.date,n=t.reactors.data[a],o=function(e,t){var a=e.date,r=e.eicCode,n=m()(a).format("YYYY-MM-DD");if(t.productions[n]&&t.productions[n].data[r]){var o=t.productions[n].data[r].values,i=Array.from({length:24-o.length+1}).map(function(){return{value:null}});return o.map(function(e){return{value:Math.max(e.value,0)}}).concat(i)}return null}({eicCode:a,date:r},t),i=function(e,t){var a=e.date,r=e.eicCode,n=m()(a).format("YYYY-MM-DD");return t.unavailabilities[n]&&t.unavailabilities[n].data[r]}({eicCode:a,date:r},t);return re({},n,{status:se(i),dayProductions:o,unavailability:i})}function de(e,t){var a=e.plantId,r=e.date,n=Object.values(t.reactors.data).filter(function(e){return e.plantId===a}).map(function(e){return ue({eicCode:e.eicCode,date:r},t)});return Object(q.a)(Object(E.a)("reactorIndex"),n)}var pe={availablePower:0,totalPower:0,availableCount:0,partiallyUnavailableCount:0,totallyUnavailableCount:0};function me(e,t){var a=e.date,r=e.slotIndex,n=m()(a).startOf("day").add(15*r,"minutes");return function(e,t){var a=e.date;return Object(g.a)(t.reactors.data).map(function(e){return ue({eicCode:e.eicCode,date:a},t)})}({date:a},t).reduce(function(e,t){var a={availablePower:0,availableCount:0,partially:0,totally:0};return t.unavailability&&n.isAfter(t.unavailability.startDate)&&n.isBefore(t.unavailability.endDate)?(0===t.unavailability.availablePower_MW?a.totally=1:(a.availableCount=1,a.partially=1),a.availablePower=t.unavailability.availablePower_MW):(a.availableCount=1,a.availablePower=t.power_MW),{totalPower:e.totalPower+t.power_MW,availablePower:e.availablePower+a.availablePower,availableCount:e.availableCount+a.availableCount,totallyUnavailableCount:e.totallyUnavailableCount+a.totally,partiallyUnavailableCount:e.partiallyUnavailableCount+a.partially}},pe)}function fe(e,t){var a=e.plantId,r=e.reactorIndex,n=e.date,o=Object.values(t.reactors.data).find(function(e){return e.plantId===a&&e.reactorIndex===r});return o&&ue({eicCode:o.eicCode,date:n},t)}var he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return re({},e,{loading:!0});case oe:return re({},e,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}});default:return e}};function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ye="PLANTS_LOAD_ACTION",Ee="PLANTS_RECEIVE_ACTION";function ge(e){var t=e.data,a=e.errors;return{type:Ee,data:t,errors:a}}var Oe={loading:!1,loaded:!1,errors:null,data:{}};function we(e){return e.plants.loaded}function _e(e,t){var a=e.plantId,r=e.date;return ve({},t.plants.data[a],{reactors:de({plantId:a,date:r},t)})}function Pe(e,t){var a=e.date;return Object(g.a)(t.plants.data).map(function(e){return _e({plantId:e.id,date:a},t)})}var xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return ve({},e,{loading:!0});case Ee:return ve({},e,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}});default:return e}};function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function De(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ie="MIX_LOAD_ACTION",ke="MIX_RECEIVE_ACTION";function Ne(e){var t=e.date,a=e.data,r=e.errors;return{type:ke,date:t,data:a,errors:r}}var Ce={};function Me(e,t){var a=e.date,r=m()(a).format("YYYY-MM-DD");return t.mix[r]&&t.mix[r].loaded}function Se(e,t){var a=e.date,r=m()(a).format("YYYY-MM-DD");return t.mix[r]&&t.mix[r].data}var Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return De({},e,Object(v.a)({},t.date,{loading:!0,loaded:!1,errors:null,data:{}}));case ke:return De({},e,Object(v.a)({},t.date,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data.mix}));default:return e}};function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function Le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ye="RIVERS_LOAD_ACTION",Te="RIVERS_RECEIVE_ACTION";function qe(e){var t=e.data,a=e.errors;return{type:Te,data:t,errors:a}}var ze={loading:!1,loaded:!1,errors:null,data:{}};function Ve(e){return e.rivers.loaded}function Ue(e){return e.rivers.data}var We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:return Le({},e,{loading:!0});case Te:return Le({},e,{loading:!1,loaded:!t.errors,errors:t.errors||null,data:t.data||{}});default:return e}},Ge=Object(f.combineReducers)({plants:xe,reactors:he,productions:B,mix:Ae,unavailabilities:te,rivers:We}),He=[Object(f.applyMiddleware)(b.a)],Fe=Object(h.composeWithDevTools)({}).apply(void 0,He),Be=Object(f.createStore)(Ge,Fe),Ke=(a(364),a(321)),Je=(a(181),a(117)),Xe=(a(182),a(118)),Qe=(a(367),a(176)),Ze=(a(235),a(63)),$e=(a(99),a(13)),et=(a(372),a(325)),tt=(a(374),a(323));var at=function(e){var t=e.to,a=e.children;return n.a.createElement(u.b,{to:function(e){return{pathname:t,search:e.search}}},a)},rt=tt.a.Title;var nt=function(){return n.a.createElement("div",{className:"HomeView"},n.a.createElement(rt,{level:2},"Bienvenue"),n.a.createElement("div",null,n.a.createElement("strong",null,"Nuclear monitor")," vous permet de consulter:",n.a.createElement("ul",null,n.a.createElement("li",null,"le ",n.a.createElement(at,{to:"/mix"},"mix")," de production d'\xe9lectricit\xe9"),n.a.createElement("li",null,"l'\xe9tat d'une ",n.a.createElement(at,{to:"/plant/GRAVELINES"},"centrale")," ou d'un ",n.a.createElement(at,{to:"/plant/BLAYAIS/3"},"r\xe9acteur")))),n.a.createElement("div",{className:"HomeView__marker"},"Cliquer sur une centrale pour en savoir plus..."))},ot=(a(422),a(64)),it=(a(424),a(306)),ct=(a(426),a(307));a(428);function lt(){return n.a.createElement("div",null,n.a.createElement("p",null,"Ce site est open-source, vous pouvez consulter son code source ici: ",n.a.createElement("br",null),n.a.createElement("a",{href:"https://github.com/ewoken/nuclear-monitor",target:"_blank",rel:"noopener noreferrer"},n.a.createElement($e.a,{type:"github"})," nuclear-monitor")),n.a.createElement("p",null,"N'h\xe9sitez pas \xe0 me remontez des bugs ou suggestions sur Github ou Twitter:",n.a.createElement("br",null),n.a.createElement("a",{href:"https://twitter.com/Yugnat95",target:"_blank",rel:"noopener noreferrer"},n.a.createElement($e.a,{type:"twitter"}),"\xa0@Yugnat95")))}var st=function(){return n.a.createElement("div",{className:"AboutView"},n.a.createElement("h2",null,"\xc0 propos"),n.a.createElement("div",null,n.a.createElement(it.a,{avatar:n.a.createElement("a",{href:"https://github.com/ewoken",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(ct.a,{src:"https://avatars3.githubusercontent.com/u/8919530?s=460&v=4"})),content:n.a.createElement(lt,null)})),n.a.createElement("h2",null,"Foire aux questions"),n.a.createElement(ot.a,{accordion:!0,bordered:!1},n.a.createElement(ot.a.Panel,{header:"Comment fonctionne un r\xe9acteur nucl\xe9aire ?",key:"1"},"Explication en moins de 3 min:",n.a.createElement("iframe",{title:"Youtube",width:"100%",src:"https://www.youtube.com/embed/I09DhTubNqE",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),"Si vous voulez plus de d\xe9tails, nous vous recommendons d'aller regarder les \xe9pisodes d\xe9di\xe9s de ",n.a.createElement("a",{href:"https://www.youtube.com/channel/UC1EacOJoqsKaYxaDomTCTEQ"},"Le R\xe9veilleur ",n.a.createElement($e.a,{type:"youtube"}))," sur Youtube"),n.a.createElement(ot.a.Panel,{header:"Pourquoi un r\xe9acteur est-il \xe0 l\u2019arr\xeat ?",key:"2"},"Un r\xe9acteur peut \xeatre \xe0 l'arr\xeat pour diff\xe9rentes raisons:",n.a.createElement("ul",null,n.a.createElement("li",null,"le rechargement d'une partie du combustible, n\xe9cessaire tous les 12 \xe0 18 mois;"),n.a.createElement("li",null,"une maintenance a \xe9t\xe9 pr\xe9vue et n\xe9cessite l'arr\xeat du r\xe9acteur lors d'une p\xe9riode de faible consommation;"),n.a.createElement("li",null,"un incident ou une d\xe9faillance est survenue."))),n.a.createElement(ot.a.Panel,{header:"Pourquoi certains r\xe9acteurs ne tournent pas \xe0 puissance maximale ?",key:"3"},"Un r\xe9acteur peut fonctionner \xe0 puissance r\xe9duite pour diff\xe9rentes raisons:",n.a.createElement("ul",null,n.a.createElement("li",null,"la consommation ne n\xe9cessite pas toute la puissance du r\xe9acteur"),n.a.createElement("li",null,"une maintenance ne n\xe9cessitant pas l'arr\xeat du r\xe9acteur est en cours."))),n.a.createElement(ot.a.Panel,{header:"Pourquoi cette application ?",key:"4"},"Cette application a pour but de mat\xe9rialiser et rendre accessible les informations disponibles sur l'ensemble du parc \xe9lectro-nucl\xe9aire fran\xe7ais."),n.a.createElement(ot.a.Panel,{header:"Quelles sont les sources de donn\xe9es ?",key:"5"},"Les donn\xe9es de disponibilit\xe9s, de production et de consommation sont disponibles gratuitement via l'API de ",n.a.createElement("a",{href:"https://data.rte-france.com/"},"RTE")),n.a.createElement(ot.a.Panel,{header:"Comment est calcul\xe9 le facteur d\u2019\xe9mission de GES de la production \xe9lectrique ",key:"6"},"Le facteur d'\xe9mission de la production \xe9lectrique est calcul\xe9 \xe0 partir du facteur d'\xe9missions en cycle de vie de chaque type de production. La source principalement utilis\xe9e est l'",n.a.createElement("a",{href:"http://www.bilans-ges.ademe.fr/"},"ADEME")," mais aussi le ",n.a.createElement("a",{href:"https://www.ipcc.ch/site/assets/uploads/2018/02/ipcc_wg3_ar5_annex-iii.pdf"},"GIEC (p. 1335)")," pour le facteur d'\xe9mission des bio\xe9nergies.",n.a.createElement("br",null),"Enfin, les imports sont moyenn\xe9s \xe0 400 gCO\u2082eq/kWh (moyenne europ\xe9enne)"),n.a.createElement(ot.a.Panel,{header:"Pourquoi certaines centrales ont des a\xe9ror\xe9frig\xe9rants et d\u2019autres pas ?",key:"7"},"Certaines centrales, comme celles en bord de mer (mais pas que), sont refroidis en cycle ouvert, l'eau utilis\xe9e est rejet\xe9e directement dans l'environnement.",n.a.createElement("br",null),"D'autres fonctionnent en cycle ferm\xe9, c'est \xe0 dire que l'eau utilis\xe9e est refroidie dans les a\xe9ror\xe9frig\xe9rants (et une partie s'\xe9vapore) puis est r\xe9utilis\xe9e. Cela permet de r\xe9duire l'eau pr\xe9lev\xe9e dans l'environnement (les fleuves)."),n.a.createElement(ot.a.Panel,{header:"Comment la puissance d\u2019un r\xe9acteur peut-elle \xeatre sup\xe9rieure \xe0 sa puissance nominale ?",key:"8"},"Un r\xe9acteur a pleine puissance peut parfois produire plus d'\xe9lectricit\xe9 que sa puissance nominale. En effet, lorsque la source de refroidissement de la centrale est plus froide que pr\xe9vue, le rendement thermodynamique est am\xe9lior\xe9 faisant gagner un peu de puissance.",n.a.createElement("br",null),"Une autre possibilit\xe9 est que la consommation interne de la centrale est r\xe9duite, ce qui augmente l'\xe9lectricit\xe9 distribu\xe9e en sortie de la centrale.")))},ut=a(80),dt=a(33),pt=a.n(dt);function mt(e){var t=window.innerWidth;switch(e){case"xs":return t<576;case"sm":return t>=576;case"md":return t>=768;case"lg":return t>=992;case"xl":return t>=1200;case"xxl":return t>=1600;default:return!1}}function ft(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}function ht(e){return isNaN(e)?"-":"".concat(e)}var bt=64,vt=400;a(77);function yt(e){return j.a.parse(e.search.substr(1)).date||pt()().startOf("hour").toISOString()}a(431),a(432);var Et=a(324),gt=a(155),Ot=a.n(gt),wt=a(43),_t={hydroPumped:{label:"POMPAGE",color:"#114774",stackId:"2"},bioenergy:{label:"BIOENERG.",color:"#166a57"},wind:{label:"EOLIEN",color:"#74cdb9"},solar:{label:"SOLAIRE",color:"#f27406"},nuclear:{label:"NUCLEAIRE",color:"#f5b300"},hydro:{label:"HYDRAU.",color:"#2772b2"},gas:{label:"GAS",color:"#f30a0a"},coal:{label:"CHARBON",color:"#ac8c35"},oil:{label:"FIOUL",color:"#8356a2"},exports:{label:"EXPORTS",color:"#969696",stackId:"2"},imports:{label:"IMPORTS",color:"#969696"}},Pt=["hydroPumped","exports","bioenergy","nuclear","hydro","gas","coal","oil","wind","solar","imports"],xt=["oil","coal","gas","hydro","nuclear","solar","wind","bioenergy","hydroPumped"],jt={bioenergy:230,nuclear:6,hydro:6,gas:418,coal:1060,oil:730,wind:14.1,solar:55,imports:400};function Dt(e){return isNaN(e)?"-":"".concat(e)}var It=function(e){var t=e.mix,a=e.slotIndex,r=e.setSlotIndex,o=e.currentDate;return n.a.createElement("div",{className:"MixComponent"},n.a.createElement("div",{className:"MixComponent__header"},xt.map(function(e){return n.a.createElement("div",{key:e,className:"MixComponent__header__item",style:{backgroundColor:_t[e].color}},Dt(Math.abs(t[a][e])),n.a.createElement("span",{className:"MixComponent__header__item__small"}," MW"),n.a.createElement("br",null),n.a.createElement("span",{className:"MixComponent__header__item__small"},_t[e].label))}),n.a.createElement("div",{className:"MixComponent__header__item",style:{backgroundColor:_t.imports.color}},Dt(Math.max(t[a].imports,-t[a].exports)),n.a.createElement("span",{className:"MixComponent__header__item__small"}," MW"),n.a.createElement("br",null),n.a.createElement("span",{className:"MixComponent__header__item__small"},t[a].exports<0?_t.exports.label:_t.imports.label)),n.a.createElement("div",{className:"MixComponent__header__item",style:{backgroundColor:"black"}},Dt(t[a].consumption),n.a.createElement("span",{className:"MixComponent__header__item__small"}," MW"),n.a.createElement("br",null),n.a.createElement("span",{className:"MixComponent__header__item__small"},"CONSO")),n.a.createElement("div",{className:"MixComponent__header__item",style:{color:"black"}},Dt(Math.ceil(function(e){var t=Object.keys(jt).reduce(function(t,a){return{e:t.e+e[a]*jt[a],total:t.total+e[a]}},{e:0,total:0});return t.e/t.total}(t[a]))),n.a.createElement("br",null),n.a.createElement("span",{className:"MixComponent__header__item__small"},"gCO\u2082eq/kWh"))),n.a.createElement("div",{className:"MixComponent__chart"},n.a.createElement(wt.f,null,n.a.createElement(wt.c,{data:t},n.a.createElement(wt.i,{axisLine:!0,mirror:!0}),Pt.map(function(e){return n.a.createElement(wt.a,{key:e,dataKey:e,type:"monotone",activeDot:!1,stroke:"none",fill:_t[e].color,stackId:_t[e].stackId||"1"})}),n.a.createElement(wt.d,{dataKey:"consumption",dot:!1,activeDot:!1,type:"monotone",stroke:"black"}),n.a.createElement(wt.e,{x:a,stroke:"#4b4e52"})))),n.a.createElement("div",{className:"MixComponent__sliderContainer"},n.a.createElement(Et.a,{min:0,max:96,style:{width:"100%"},defaultValue:a,onChange:Ot()(r,400),tipFormatter:function(e){return m()(o).startOf("day").add(15*e,"minutes").format("HH:mm")}})))};var kt=Object(ut.c)("slotIndex","setSlotIndex",function(e){return pt()().isSame(e.currentDate,"day")?e.mix.filter(function(e){return!Number.isNaN(e.nuclear)}).length-1:4*pt()(e.currentDate).hours()}),Nt=Object(s.b)(function(e,t){var a=yt(t.location);return{currentDate:a,mix:Se({date:a},e)}}),Ct=Object(s.b)(function(e,t){return{reactorSetIndicators:me({date:t.currentDate,slotIndex:Math.floor(t.slotIndex/4)},e)}}),Mt=Object(ut.a)(Nt,kt,Ct)(function(e){var t=e.mix,a=e.slotIndex,r=e.setSlotIndex,o=e.reactorSetIndicators,i=e.currentDate,c=o.totalPower,l=o.availablePower,s=o.availableCount,d=o.partiallyUnavailableCount,p=o.totallyUnavailableCount,m=Math.floor(c/1e3),f=Math.floor(l),h=Math.floor(100*l/c),b=Math.floor(100*t[a].nuclear/l),v=Math.max((l-(t[a].nuclear||0))/c*100,0),y=pt()(i).hour(Math.floor(a/4)).minutes(a%4*15).format("DD/MM/YYYY HH:mm");return n.a.createElement("div",{className:"MixView"},n.a.createElement(Je.a,null,n.a.createElement(Xe.a,{span:24},n.a.createElement(It,{mix:t,slotIndex:a,setSlotIndex:r,currentDate:i}),n.a.createElement("div",{className:"MixView__date"},pt()(i).isAfter("2012-01-02")?n.a.createElement(u.b,{to:function(e){return{pathname:e.pathname,search:j.a.stringify({date:pt()(i).subtract(1,"day").startOf("hour").toISOString()})}}},n.a.createElement($e.a,{theme:"twoTone",type:"left-circle",style:{fontSize:"18pt"}})):n.a.createElement("div",null),n.a.createElement("div",null,y),pt()().isSame(i,"day")?n.a.createElement("div",null):n.a.createElement(u.b,{to:function(e){return{pathname:e.pathname,search:j.a.stringify({date:pt()(i).add(1,"day").startOf("hour").toISOString()})}}},n.a.createElement($e.a,{theme:"twoTone",type:"right-circle",style:{fontSize:"18pt"}}))),n.a.createElement("div",{className:"MixView__nuclear"},n.a.createElement("strong",null,"Parc nucl\xe9aire (".concat(m," GW):")),n.a.createElement("div",{className:"MixView__nuclear__indicator"},n.a.createElement("div",{className:"MixView__nuclear__indicator__prod",style:{display:t[a].nuclear?"inherit":"none",width:"".concat((t[a].nuclear||0)/c*100,"%")}},n.a.createElement("div",null,"Prod: ".concat(ht(t[a].nuclear)," MW")),n.a.createElement("div",null,"".concat(ht(b),"% du dispo."))),n.a.createElement("div",{className:"MixView__nuclear__indicator__available",style:{width:"".concat(v,"%")}})),n.a.createElement("div",{className:"MixView__nuclear__available"},"".concat(s," r\xe9acteurs disponibles: ").concat(f," MW (").concat(h,"%)")),n.a.createElement("div",null,"dont ".concat(d," partiellement indisponible").concat(d>1?"s":"")),n.a.createElement("div",{className:"MixView__nuclear__stopped"},"".concat(p," r\xe9acteur").concat(p>1?"s":""," arr\xeat\xe9").concat(p>1?"s":""))))))}),St=(a(626),a(326)),At=(a(184),a(98)),Rt=(a(298),a(170)),Lt=(a(679),a(231));function Yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function Tt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yt(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}a(77).ReactorType;function qt(e){var t={fontSize:16};switch(e.status){case"PLANNED_STOP":return n.a.createElement($e.a,{type:"tool",theme:"filled",style:Tt({},t,{color:"#404040"})});case"UNPLANNED_REDUCTION":case"AUTO_STOP":return n.a.createElement($e.a,{type:"exclamation-circle",theme:"twoTone",twoToneColor:"red",style:t});case"PLANNED_REDUCTION":return n.a.createElement($e.a,{type:"info-circle",theme:"twoTone",style:t});default:return null}}var zt=function(e){var t=e.reactor,a=e.currentDate,r=t.dayProductions,o=m()(a).hours(),i=t.dayProductions.reduce(function(e,t,a){return null===t.value?e:a},0),c=r[Math.min(i,o)],l=Math.max(0,c.value),s=Math.floor(l/t.power_MW*100);return n.a.createElement("div",{className:"ReactIndicator",style:{background:"linear-gradient(0deg, #26a65b 0%, #26a65b ".concat(s,"%, rgba(255,255,255,1) ").concat(s,"%)")}},n.a.createElement("div",{className:"ReactIndicator__status"},n.a.createElement(qt,{status:t.status})),n.a.createElement("div",{className:"ReactIndicator__prod"},n.a.createElement("strong",null,Math.floor(l))),n.a.createElement("div",{className:"ReactIndicator__number"},t.reactorIndex))},Vt=(a(631),a(65)),Ut=a(327),Wt=[0,12,24];function Gt(e){return e?"".concat(e,":00"):"00:00"}var Ht=function(e){var t=e.reactor,a=Object(r.useState)(null),o=Object(Ut.a)(a,2),i=o[0],c=o[1],l=i>9?"".concat(i,":00"):"0".concat(i,":00"),s=null!==i&&null!=t.dayProductions[i].value?"".concat(Math.floor(t.dayProductions[i].value)):"-";return n.a.createElement("div",{key:t.name,className:"ReactorLoadChart"},n.a.createElement("div",null,"Production ".concat(null!==i?"\xe0 ".concat(l,": ").concat(s," MW"):"(MW)")),n.a.createElement("div",{className:"ReactorLoadChart__chart"},n.a.createElement(wt.f,null,n.a.createElement(wt.b,{data:t.dayProductions,onClick:function(e){return c(e&&e.activeTooltipIndex),e}},n.a.createElement(wt.h,{domain:[0,24],ticks:Wt,tickFormatter:Gt}),n.a.createElement(wt.i,null),n.a.createElement(wt.a,{dataKey:"value",dot:!1,activeDot:function(e){return c(e.index),null},type:"monotone",stroke:"rgb(28, 114, 64)",fill:"rgb(38, 166, 91)",fillOpacity:1}),n.a.createElement(wt.g,{content:function(){return null}})))))};var Ft=function(e){var t=e.reactor,a=e.currentDate;return n.a.createElement("div",{className:"ReactorDetails"},n.a.createElement(Vt.a,{title:n.a.createElement("div",{className:"ReactorDetails__header"},n.a.createElement("div",null,t.name),n.a.createElement("div",null,n.a.createElement(at,{to:"/plant/".concat(t.plantId)},n.a.createElement($e.a,{type:"caret-up",theme:"filled"})))),size:"small",bordered:!0,column:1},n.a.createElement(Vt.a.Item,{label:"D\xe9but d'exploitation"},t.exploitationStartYear),n.a.createElement(Vt.a.Item,{label:"Puissance nominale"},"".concat(t.power_MW," MWe (").concat(t.stage,")"))),n.a.createElement("div",null,n.a.createElement(Ht,{reactor:t}),n.a.createElement("div",{className:"MixView__date"},pt()(a).isAfter("2012-01-02")?n.a.createElement(u.b,{to:function(e){return{pathname:e.pathname,search:j.a.stringify({date:pt()(a).subtract(1,"day").startOf("hour").toISOString()})}}},n.a.createElement($e.a,{theme:"twoTone",type:"left-circle",style:{fontSize:"18pt"}})):n.a.createElement("div",null),n.a.createElement("div",null,pt()(a).format("DD/MM/YYYY")),pt()().isSame(a,"day")?n.a.createElement("div",null):n.a.createElement(u.b,{to:function(e){return{pathname:e.pathname,search:j.a.stringify({date:pt()(a).add(1,"day").startOf("hour").toISOString()})}}},n.a.createElement($e.a,{theme:"twoTone",type:"right-circle",style:{fontSize:"18pt"}})))),t.unavailability&&n.a.createElement(Vt.a,{title:"Indisponibilit\xe9",size:"small",bordered:!0,column:1,style:{marginTop:10}},n.a.createElement(Vt.a.Item,{label:"D\xe9but"},pt()(t.unavailability.startDate).format("DD/MM/YYYY HH:mm")),n.a.createElement(Vt.a.Item,{label:"Fin"},pt()(t.unavailability.endDate).format("DD/MM/YYYY HH:mm")),n.a.createElement(Vt.a.Item,{label:"Type"},"PLANNED_MAINTENANCE"===t.unavailability.type?"Planifi\xe9e":"Fortuite"),n.a.createElement(Vt.a.Item,{label:"Puissance disponible"},"".concat(t.unavailability.availablePower_MW," MW")),n.a.createElement(Vt.a.Item,{label:"Description"},t.unavailability.reason)))},Bt=(a(633),a(318));var Kt=function(e){var t=e.plant;return n.a.createElement("div",{className:"PlantPictures"},n.a.createElement("div",{className:"PlantPictures__header"},n.a.createElement("h3",null,"Photos"),n.a.createElement("div",null,n.a.createElement(at,{to:"/plant/".concat(t.id)},n.a.createElement($e.a,{type:"caret-up",theme:"filled"})))),n.a.createElement(Bt.a,null,t.pictures.map(function(e){return n.a.createElement("img",{key:e,alt:t.name,src:e})})))},Jt=(a(645),Object(s.b)(function(e,t){return{reactor:fe({date:t.currentDate,plantId:t.match.params.plantId,reactorIndex:Number(t.match.params.reactorIndex)},e)}})(Ft));var Xt=Object(s.b)(function(e,t){var a=t.match.params.plantId,r=yt(t.location);return{currentDate:r,plants:Pe({date:r},e),currentPlant:_e({plantId:a,date:r},e),reactors:de({plantId:a,date:r},e),goTo:function(e){return t.history.push("".concat(e).concat(t.location.search))}}})(function(e){var t,a=e.currentDate,r=e.plants,o=e.currentPlant,i=e.reactors,c=e.goTo;return o?n.a.createElement("div",{className:"PlantView"},n.a.createElement(Je.a,null,n.a.createElement(Xe.a,{span:24},n.a.createElement("div",{className:"PlantView__firstRow"},n.a.createElement("div",{className:"PlantView__firstRow__left"},n.a.createElement(Lt.a,{value:o.id,size:"large",onChange:function(e){return c("/plant/".concat(e))},style:{width:"9em"}},r.map(function(e){return n.a.createElement(Lt.a.Option,{key:e.id,value:e.id},e.name)})),n.a.createElement("span",null,n.a.createElement(Rt.a,{style:{marginLeft:"8px"}},"SEA"===o.coolingType?"Mer":"Fleuve"))),n.a.createElement("div",{className:"PlantView__firstRow__right"},n.a.createElement(at,{to:"/plant/".concat(o.id,"/pictures")},n.a.createElement(At.a,{icon:"picture",style:{marginRight:5}})),n.a.createElement(St.a,{overlay:(t=o,n.a.createElement(Ze.a,null,n.a.createElement(Ze.a.Item,null,n.a.createElement("a",{href:t.wikiLink,target:"_blank",rel:"noopener noreferrer"},"Wikipedia")),n.a.createElement(Ze.a.Item,null,n.a.createElement("a",{href:t.asnLink,target:"_blank",rel:"noopener noreferrer"},"ASN")))),trigger:["click"],placement:"bottomRight"},n.a.createElement(At.a,{icon:"more"})))),n.a.createElement("div",{className:"PlantView__schema"},n.a.createElement("div",null,"Production (MW)"),n.a.createElement("div",{className:"PlantView__reactors"},i.map(function(e){return n.a.createElement(at,{key:e.eicCode,to:"/plant/".concat(o.id,"/").concat(e.reactorIndex)},n.a.createElement(zt,{reactor:e,currentDate:a}))})),n.a.createElement("div",{className:"PlantView__cooling",style:{width:50*i.length}},o.coolingPlace)),n.a.createElement("div",{className:"PlantView__footer"},n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"/plant/:plantId/pictures",component:function(){return n.a.createElement(Kt,{plant:o})}}),n.a.createElement(d.b,{path:"/plant/:plantId/:reactorIndex",component:function(e){return n.a.createElement(Jt,Object.assign({},e,{currentDate:a}))}}),n.a.createElement(d.b,{component:function(){return n.a.createElement("small",null,"(Cliquer sur un r\xe9acteur pour plus de d\xe9tails)")}})))))):n.a.createElement(d.a,{to:"/"})}),Qt=a(690),Zt=a(693),$t=a(694),ea=a(685),ta=a(691);function aa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function ra(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?aa(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aa(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var na={fillOpacity:1,iconSize:[24,38],circleColor:"white",circleRatio:.6,circleWeight:3};function oa(e){return e.reactors.reduce(function(e,t){return"RUNNING"!==t.status&&"PLANNED_STOP"!==t.status||e},!1)}function ia(e,t){var a=Math.max(m()(t).hours(),0);return e.reactors.reduce(function(e,t){var r=t.dayProductions.reduce(function(e,t,a){return null===t.value?e:a},0),n=Math.min(r,a);return e+(null!==t.dayProductions[n].value?Math.max(t.dayProductions[n].value,0):0)},0)/e.reactors.reduce(function(e,t){return e+t.power_MW},0)}function ca(e){var t=e.plants,a=e.currentPlantId,r=e.onPlantClick,o=e.drawerHeight,i=e.rivers,c=e.currentDate,s=!mt("sm"),u=ft();return n.a.createElement(Qt.a,{center:[48.3,2],zoom:s?5:6,style:{height:s?u-bt-o:u-bt,marginTop:s?bt+o:bt,marginLeft:s?0:vt},zoomControl:!1},n.a.createElement(Zt.a,{position:"bottomright"}),n.a.createElement($t.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t.map(function(e){return n.a.createElement(ea.a,{key:e.id,title:e.name,position:e.coords,icon:e.id===a?new l.a.DivIcon.SVGIcon.IndicatorIcon(ra({},na,{color:"red",loadRate:ia(e,c),notif:oa(e)})):new l.a.DivIcon.SVGIcon.IndicatorIcon(ra({},na,{loadRate:ia(e,c),notif:oa(e)})),onClick:function(){return r(e)}})}),i.map(function(e){return n.a.createElement(ta.a,{key:e.name,data:e})}))}ca.defaultProps={currentPlantId:null};var la=Object(s.b)(function(e,t){return{plants:Pe({date:t.currentDate},e),rivers:Ue(e)}})(ca),sa=(a(654),a(320)),ua=a.n(sa),da=(a(680),a(322)),pa=m()("2012-01-01").toDate(),ma=m()().endOf("day").toDate();var fa=Object(ut.c)("isOpen","setIsOpen",!1)(function(e){var t=e.children,a=e.isOpen,r=e.setIsOpen,o=e.value,i=e.onDate;return n.a.createElement("div",null,n.a.createElement("div",{role:"button",tabIndex:"0",onKeyDown:function(){},onClick:function(){return r(!a)}},t),n.a.createElement(da.a,{open:a,style:{display:"none"},defaultValue:m()(o),disabledDate:function(e){return m()().isBefore(e)||m()(pa).isAfter(e)},showTime:{minuteStep:60,secondStep:60},onOk:function(e){r(!1),i(e)}}))});var ha=function(e){var t=e.value,a=e.children,r=e.onDate;return function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t}()?n.a.createElement(ua.a,{locale:{okText:"OK",dismissText:"Today",DatePickerLocale:{year:"",month:"",day:"",hour:"h",minute:""}},onOk:r,onDismiss:r,value:m()(t).minutes(0).toDate(),minuteStep:60,minDate:pa,maxDate:ma},a):n.a.createElement(fa,{value:t,onDate:r},a)},ba=a(229),va=a(167),ya=a(116),Ea=a(171),ga=a(168),Oa=a(172),wa=a(686),_a=a(687),Pa=function(e){function t(){return Object(va.a)(this,t),Object(Ea.a)(this,Object(ga.a)(t).apply(this,arguments))}return Object(Oa.a)(t,e),Object(ya.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.load)(Object(ba.a)(e,["load"]))}},{key:"componentDidUpdate",value:function(e){var t=Object(wa.a)(["load"],e),a=this.props,r=a.load,n=Object(ba.a)(a,["load"]);Object(_a.a)(t,n)||r(n)}},{key:"render",value:function(){return null}}]),t}(r.Component);var xa=function(e){return Object(s.b)(null,{load:e})(Pa)},ja=xa(function(){return function(e){return e({type:ye}),function(){return S.apply(this,arguments)}().then(function(t){return e(ge({data:Object(y.a)(Object(E.a)("id"),t)}))}).catch(function(t){return console.error(t)||e(ge({errors:t}))})}}),Da=xa(function(){return function(e){return e({type:ne}),function(){return A.apply(this,arguments)}().then(function(t){return e(ie({data:Object(y.a)(Object(E.a)("eicCode"),t)}))}).catch(function(t){return console.error(t)||e(ie({errors:t}))})}}),Ia=xa(function(e){var t=e.date,a=m()(t).format("YYYY-MM-DD");return function(e,t){return F({date:a},t())?Promise.resolve():(e(function(e){var t=e.date;return{type:U,date:t}}({date:a})),function(e){return R.apply(this,arguments)}({date:a}).then(function(t){return e(G({date:a,data:t}))}).catch(function(t){return console.error(t)||e(G({date:a,errors:t}))}))}}),ka=xa(function(e){var t=e.date,a=m()(t).format("YYYY-MM-DD");return function(e,t){return Me({date:a},t())?Promise.resolve():(e(function(e){var t=e.date;return{type:Ie,date:t}}({date:a})),function(e){return T.apply(this,arguments)}({date:a}).then(function(t){return e(Ne({date:a,data:t}))}).catch(function(t){return console.error(t)||e(Ne({date:a,errors:t}))}))}}),Na=xa(function(e){var t=e.date,a=m()(t).format("YYYY-MM-DD");return function(e,t){return ee({date:a},t())?Promise.resolve():(e(function(e){var t=e.date;return{type:X,date:t}}({date:a})),function(e){return Y.apply(this,arguments)}({date:a}).then(function(t){return e(Z({date:a,data:t}))}).catch(function(t){return console.error(t)||e(Z({date:a,errors:t}))}))}}),Ca=xa(function(){return function(e){return e({type:Ye}),function(){return M.apply(this,arguments)}().then(function(t){return e(qe({data:t}))}).catch(function(t){return console.error(t)||e(qe({errors:t}))})}});function Ma(e){var t=e.isLoaded,a=e.error,r=e.currentPlantId,o=e.currentLocation,i=e.currentDate,c=e.isFullPage,l=e.goTo,s=!mt("sm"),u=c?ft()-bt:220;return n.a.createElement("div",{className:"AppLayout"},n.a.createElement(ja,null),n.a.createElement(Da,null),n.a.createElement(Ca,null),n.a.createElement(Ia,{date:i}),n.a.createElement(ka,{date:i}),n.a.createElement(Na,{date:i}),n.a.createElement(Ke.a,{size:"large",spinning:!t,indicator:n.a.createElement("div",null,n.a.createElement("img",{className:"AppLayout__loadingIcon",src:"loading_icon.svg",alt:""}),a&&n.a.createElement("div",{className:"AppLayout__errorMessage"},"Une erreur est survenue, veuillez essayer dans quelques minutes"))},!t&&n.a.createElement("div",{className:"AppLayout__splash"}),t&&n.a.createElement(Qe.a,null,n.a.createElement(et.a,{title:null,visible:!0,placement:s?"top":"left",style:{marginTop:bt},mask:!1,closable:!1,width:vt,height:u,bodyStyle:{padding:0},drawerStyle:{transition:"height 2s ease"}},n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"/home",exact:!0,component:nt}),n.a.createElement(d.b,{path:"/mix",exact:!0,component:Mt}),n.a.createElement(d.b,{path:"/about",exact:!0,component:st}),n.a.createElement(d.b,{path:"/plant/:plantId",component:Xt}),n.a.createElement(d.b,{component:function(){return n.a.createElement(d.a,{to:{pathname:"/home"}})}}))),n.a.createElement(Je.a,null,n.a.createElement(Xe.a,{span:24},n.a.createElement(Qe.a.Header,{className:"AppLayout__header"},n.a.createElement(Ze.a,{theme:"dark",mode:"horizontal",className:"AppLayout__menu",selectable:!1},n.a.createElement(Ze.a.SubMenu,{title:n.a.createElement("span",null,n.a.createElement($e.a,{type:"menu"}),n.a.createElement("strong",null,"Nuclear monitor")),popupClassName:"AppLayout__submenu"},n.a.createElement(Ze.a.Item,{key:"home"},n.a.createElement(at,{to:"/home"},"Accueil")),n.a.createElement(Ze.a.Item,{key:"mix"},n.a.createElement(at,{to:"/mix"},"Mix")),n.a.createElement(Ze.a.Item,{key:"about"},n.a.createElement(at,{to:"/about"},"\xc0 propos")))),n.a.createElement(ha,{onDate:function(e){return m()(e).isSame(m()(),"day")?l("".concat(o),!1):l("".concat(o,"?date=").concat(m()(e).toISOString()),!1)},value:i},n.a.createElement("div",{className:"AppLayout__header__date"},n.a.createElement("div",{className:"AppLayout__header__date__text"},n.a.createElement("div",null,m()(i).format("dddd DD/MM/YYYY")),n.a.createElement("div",null,m()(i).format("\xe0 HH:00"))),n.a.createElement("div",{className:"AppLayout__header__date__calendar"},n.a.createElement($e.a,{type:"calendar",theme:"twoTone",twoToneColor:"white"}))))),n.a.createElement(Qe.a.Content,{className:"AppLayout__content"},n.a.createElement(la,{currentDate:i,currentPlantId:r,onPlantClick:function(e){return l("/plant/".concat(e.id))},drawerHeight:u})))))))}Ma.defaultProps={currentPlantId:null,error:null};var Sa,Aa=Object(d.g)(Object(s.b)(function(e,t){var a=Object(d.f)(t.location.pathname,{path:"/plant/:id",exact:!1}),r=yt(t.location),n=function(e,t){var a=e.date,r=m()(a).format("YYYY-MM-DD");return t.mix[r]&&t.mix[r].errors}({date:r},e),o=function(e,t){var a=e.date,r=m()(a).format("YYYY-MM-DD");return t.productions[r]&&t.productions[r].errors}({date:r},e),i=function(e,t){var a=e.date,r=m()(a).format("YYYY-MM-DD");return t.unavailabilities[r]&&t.unavailabilities[r].errors}({date:r},e);return{isLoaded:we(e)&&le(e)&&F({date:r},e)&&Me({date:r},e)&&ee({date:r},e)&&Ve(e),error:o||i||n,goTo:function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.history.push("".concat(e).concat(a?t.location.search:""))},currentLocation:t.location.pathname,currentPlantId:a&&a.params.id,currentDate:r,isFullPage:!!Object(d.f)(t.location.pathname,{path:["/plant/:id/:reactorIndex","/mix","/about"]})}})(Ma)),Ra=a(230),La=(Sa="tracker.pageview",Ra.a);Ra.a.initialize("UA-153111142-1",{siteSpeedSampleRate:100});var Ya=function(e){function t(){return Object(va.a)(this,t),Object(Ea.a)(this,Object(ga.a)(t).apply(this,arguments))}return Object(Oa.a)(t,e),Object(ya.a)(t,[{key:"componentDidMount",value:function(){this.trackPage()}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.trackPage()}},{key:"trackPage",value:function(){var e=this.props.location;La.set({location:e}),La.pageview(e)}},{key:"render",value:function(){var e=this.props.children;return n.a.createElement("div",null,e)}}]),t}(r.Component),Ta=Object(ut.a)(d.g,Object(ut.b)(function(e){return{location:"".concat(e.location.pathname).concat(e.location.search)}}))(Ya);m.a.locale("fr"),m.a.tz.setDefault("Europe/Paris");var qa=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(s.a,{store:Be},n.a.createElement(u.a,null,n.a.createElement(d.b,{path:"/"},n.a.createElement(Ta,null,n.a.createElement(Aa,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(qa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},77:function(e,t,a){"use strict";a.r(t),a.d(t,"ProductionType",function(){return o}),a.d(t,"PlantType",function(){return i}),a.d(t,"ReactorType",function(){return c}),a.d(t,"MixType",function(){return l});var r=a(0),n=a.n(r),o=n.a.shape({startDate:n.a.string.isRequired,endDate:n.a.string.isRequired,updatedDate:n.a.string.isRequired,value:n.a.number.isRequired}),i=n.a.shape({id:n.a.string.isRequired,name:n.a.string.isRequired,coords:n.a.arrayOf(n.a.number).isRequired,coolingType:n.a.string.isRequired,coolingPlace:n.a.string.isRequired,hasCoolingTower:n.a.bool.isRequired,wikiLink:n.a.string.isRequired,asnLink:n.a.string.isRequired,pictures:n.a.arrayOf(n.a.string).isRequired}),c=n.a.shape({eicCode:n.a.string.isRequired,plantId:n.a.string.isRequired,reactorIndex:n.a.number.isRequired,name:n.a.string.isRequired,stage:n.a.string.isRequired,power_MW:n.a.number.isRequired,buildStartYear:n.a.number.isRequired,gridLinkYear:n.a.number.isRequired,exploitationStartYear:n.a.number.isRequired,dayProductions:n.a.arrayOf(o).isRequired}),l=n.a.shape({wind:n.a.number.isRequired,solar:n.a.number.isRequired,nuclear:n.a.number.isRequired,gas:n.a.number.isRequired,oil:n.a.number.isRequired,coal:n.a.number.isRequired,consumption:n.a.number.isRequired,biomass:n.a.number.isRequired,hydroPumped:n.a.number.isRequired,hydro:n.a.number.isRequired,imports:n.a.number.isRequired,exports:n.a.number.isRequired})}},[[350,1,2]]]);
//# sourceMappingURL=main.c036d34b.chunk.js.map