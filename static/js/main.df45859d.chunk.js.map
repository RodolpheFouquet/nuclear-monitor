{"version":3,"sources":["utils/svg-icons.js","api/index.js","store/productions.js","store/unavailabilities.js","store/reactors.js","store/plants.js","store/mix.js","store/rivers.js","store/index.js","utils/index.js","views/MixView/components/config.js","views/MixView/components/MixComponent.jsx","views/MixView/index.jsx","views/PlantView/components/ReactorIndicator.jsx","views/PlantView/components/ReactorLoadChart.jsx","views/PlantView/components/ReactorDetails.jsx","views/PlantView/index.jsx","HOC/buildLoader.js","components/PlantMap.jsx","views/HomeView/index.jsx","components/AppLayout.jsx","App.jsx","serviceWorker.js","index.js","utils/types.js"],"names":["L","DivIcon","SVGIcon","extend","options","point","initialize","Util","setOptions","this","iconSize","circleAnchor","Number","x","circleColor","color","circleFillOpacity","opacity","circleOpacity","circleWeight","weight","fillColor","fontSize","iconAnchor","y","popupAnchor","html","_createSVG","_createCircle","cx","cy","radius","circleRatio","fill","circleFillColor","fillOpacity","stroke","strokeOpacity","strokeWidth","className","_createPathDescription","height","width","margin","_createPath","pathDescription","path","circle","text","_createText","style","fontWeight","lineHeight","circleText","fontColor","replace","fontOpacity","divIcon","svgIcon","Marker","SVGMarker","latlng","icon","iconFactory","iconOptions","_latlng","onAdd","map","prototype","call","setStyle","_icon","children","iconBody","iconCircle","setAttribute","setOpacity","setIcon","marker","svgMarker","IndicatorIcon","circum","Math","PI","pieSize","loadRate","notif","pie","REACT_APP_NUCLEAR_MONITOR_API","process","a","Promise","all","river","fetch","then","res","json","data","START_URL","DATE_FORMAT","qs","stringify","dataset","rows","sort","moment","tz","format","mix","records","fields","isOk","nucleaire","datetime","date_heure","unix","wind","eolien","solar","solaire","nuclear","gas","gaz","oil","fioul","coal","charbon","consumption","consommation","biomass","bioenergies","hydroPumped","pompage","hydro","hydraulique","imports","max","ech_physiques","exports","min","PRODUCTIONS_LOAD_ACTION","PRODUCTIONS_RECEIVE_ACTION","receiveProductionsAction","errors","type","initialState","loading","loaded","productionsLoadedSelector","state","productions","productionsReducer","action","UNAVAILABILITIES_LOAD_ACTION","UNAVAILABILITIES_RECEIVE_ACTION","receiveUnavailabilitiesAction","unavailabilitiesLoadedSelector","unavailabilities","unavailabilitiesReducer","REACTORS_LOAD_ACTION","REACTORS_RECEIVE_ACTION","receiveReactorsAction","reactorsLoadedSelector","reactors","getStatus","unavailability","availablePower_MW","reactorSelector","eicCode","reactor","dayProductions","values","productionSelector","unavalabilitySelector","status","reactorsOfPlantSelector","plantId","Object","filter","sortBy","prop","INIT_DATA","availablePower","totalPower","availableCount","partiallyUnavailableCount","totallyUnavailableCount","reactorSetIndicatorsSelector","hourOfDay","reactorsSelector","reduce","res2","partially","totally","power_MW","reactorByPlantAndIndexSelector","reactorIndex","reacto","find","reactorsReducer","PLANTS_LOAD_ACTION","PLANTS_RECEIVE_ACTION","receivePlantsAction","plantsLoadedSelector","plants","plantSelector","plantsSelector","plant","id","plantsReducer","MIX_LOAD_ACTION","MIX_RECEIVE_ACTION","receiveMixAction","mixLoadedSelector","mixSelector","mixReducer","RIVERS_LOAD_ACTION","RIVERS_RECEIVE_ACTION","receiveRiversAction","riversLoadedSelector","rivers","riversSelector","riversReducer","rootReducer","combineReducers","enhancers","applyMiddleware","thunk","enhancer","composeWithDevTools","store","createStore","testScreenType","size","windowWidth","window","innerWidth","getWindowHeight","body","document","documentElement","scrollHeight","offsetHeight","clientHeight","v","isNaN","HEADER_HEIGHT","DRAWER_WIDTH","META","label","stackId","GRAPH_ORDER","HEADER_ORDER","MixComponent","slotIndex","setSlotIndex","key","backgroundColor","abs","axisLine","mirror","dataKey","activeDot","dot","defaultValue","onChange","debounce","tipFormatter","value","startOf","add","withStateEnhancer","withState","floor","diff","connectEnhancer","connect","props","reactorSetIndicators","compose","total","available","availabilityRate","prodAvailableRate","date","hour","minutes","span","require","ReactorType","StatusIndicator","theme","twoToneColor","ReactorIndicator","prods","currentProd","length","absLoad","part","background","TICKS","tickFormatter","ReactorLoadChart","endOfDay","Array","from","concat","name","domain","ticks","ReactorDetails","title","to","bordered","column","Item","exploitationStartYear","stage","startDate","isAfter","shouldDisplayLoadGraph","marginTop","endDate","reason","ReactorDetailsContainer","match","params","currentPlant","goTo","url","history","push","Option","marginLeft","coolingType","href","wikiLink","target","rel","src","alt","asnLink","coolingPlace","component","Loader","load","prevProps","prevOtherProps","omit","otherProps","equals","Component","buildLoader","loadFunction","ICON_OPTIONS","hasNotif","plantRatio","r","PlantMap","currentPlantId","onPlantClick","drawerHeight","isSmallScreen","Map","center","zoom","zoomControl","ZoomControl","position","TileLayer","attribution","coords","Leaflet","onClick","GeoJSON","defaultProps","Title","HomeView","level","PlantsLoader","dispatch","getPlants","indexBy","catch","console","error","ReactorsLoader","getReactors","ProductionsLoader","getProductions","MixLoader","getMix","UnavailabilitiesLoader","getUnavailabilities","RiversLoader","getRivers","AppLayout","isLoaded","isFullPage","spinning","indicator","visible","placement","mask","closable","bodyStyle","padding","drawerStyle","transition","exact","MixView","PlantView","pathname","Header","mode","selectable","Content","withRouter","matchPlantPath","matchPath","location","App","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","ProductionType","PropTypes","shape","string","isRequired","updatedDate","number","PlantType","arrayOf","hasCoolingTower","bool","buildStartYear","gridLinkYear","MixType"],"mappings":"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","file":"static/js/main.df45859d.chunk.js","sourcesContent":["/* eslint-disable */\n//Leaflet-SVGIcon\n//SVG icon for any marker class\n//Ilya Atkin\n//ilya.atkin@unh.edu\nimport Leaflet from 'leaflet';\n\nL.DivIcon.SVGIcon = L.DivIcon.extend({\n  options: {\n      \"circleText\": \"\",\n      \"className\": \"svg-icon\",\n      \"circleAnchor\": null, //defaults to [iconSize.x/2, iconSize.x/2]\n      \"circleColor\": null, //defaults to color\n      \"circleOpacity\": null, // defaults to opacity\n      \"circleFillColor\": \"rgb(255,255,255)\",\n      \"circleFillOpacity\": null, //default to opacity\n      \"circleRatio\": 0.5,\n      \"circleWeight\": null, //defaults to weight\n      \"color\": \"rgb(0,102,255)\",\n      \"fillColor\": null, // defaults to color\n      \"fillOpacity\": 0.4,\n      \"fontColor\": \"rgb(0, 0, 0)\",\n      \"fontOpacity\": \"1\",\n      \"fontSize\": null, // defaults to iconSize.x/4\n      \"fontWeight\": \"normal\",\n      \"iconAnchor\": null, //defaults to [iconSize.x/2, iconSize.y] (point tip)\n      \"iconSize\": L.point(32,48),\n      \"opacity\": 1,\n      \"popupAnchor\": null,\n      \"weight\": 2\n  },\n  initialize: function(options) {\n      options = L.Util.setOptions(this, options)\n\n      //iconSize needs to be converted to a Point object if it is not passed as one\n      options.iconSize = L.point(options.iconSize)\n\n      //in addition to setting option dependant defaults, Point-based options are converted to Point objects\n      if (!options.circleAnchor) {\n          options.circleAnchor = L.point(Number(options.iconSize.x)/2, Number(options.iconSize.x)/2)\n      }\n      else {\n          options.circleAnchor = L.point(options.circleAnchor)\n      }\n      if (!options.circleColor) {\n          options.circleColor = options.color\n      }\n      if (!options.circleFillOpacity) {\n          options.circleFillOpacity = options.opacity\n      }\n      if (!options.circleOpacity) {\n          options.circleOpacity = options.opacity\n      }\n      if (!options.circleWeight) {\n          options.circleWeight = options.weight\n      }\n      if (!options.fillColor) {\n          options.fillColor = options.color\n      }\n      if (!options.fontSize) {\n          options.fontSize = Number(options.iconSize.x/4)\n      }\n      if (!options.iconAnchor) {\n          options.iconAnchor = L.point(Number(options.iconSize.x)/2, Number(options.iconSize.y))\n      }\n      else {\n          options.iconAnchor = L.point(options.iconAnchor)\n      }\n      if (!options.popupAnchor) {\n          options.popupAnchor = L.point(0, (-0.75)*(options.iconSize.y))\n      }\n      else {\n          options.popupAnchor = L.point(options.popupAnchor)\n      }\n\n      options.html = this._createSVG()\n  },\n  _createCircle: function() {\n      var cx = Number(this.options.circleAnchor.x)\n      var cy = Number(this.options.circleAnchor.y)\n      var radius = this.options.iconSize.x/2 * Number(this.options.circleRatio)\n      var fill = this.options.circleFillColor\n      var fillOpacity = this.options.circleFillOpacity\n      var stroke = this.options.circleColor\n      var strokeOpacity = this.options.circleOpacity\n      var strokeWidth = this.options.circleWeight\n      var className = this.options.className + \"-circle\"\n\n      var circle = '<circle class=\"' + className + '\" cx=\"' + cx + '\" cy=\"' + cy + '\" r=\"' + radius +\n          '\" fill=\"' + fill + '\" fill-opacity=\"'+ fillOpacity +\n          '\" stroke=\"' + stroke + '\" stroke-opacity=' + strokeOpacity + '\" stroke-width=\"' + strokeWidth + '\"/>'\n\n      return circle\n  },\n  _createPathDescription: function() {\n      var height = Number(this.options.iconSize.y)\n      var width = Number(this.options.iconSize.x)\n      var weight = Number(this.options.weight)\n      var margin = weight / 2\n\n      var startPoint = \"M \" + margin + \" \" + (width/2) + \" \"\n      var leftLine = \"L \" + (width/2) + \" \" + (height - weight) + \" \"\n      var rightLine = \"L \" + (width - margin) + \" \" + (width/2) + \" \"\n      var arc = \"A \" + (width/4) + \" \" + (width/4) + \" 0 0 0 \" + margin + \" \" + (width/2) + \" Z\"\n\n      var d = startPoint + leftLine + rightLine + arc\n\n      return d\n  },\n  _createPath: function() {\n      var pathDescription = this._createPathDescription()\n      var strokeWidth = this.options.weight\n      var stroke = this.options.color\n      var strokeOpacity = this.options.opacity\n      var fill = this.options.fillColor\n      var fillOpacity = this.options.fillOpacity\n      var className = this.options.className + \"-path\"\n\n      var path = '<path class=\"' + className + '\" d=\"' + pathDescription +\n          '\" stroke-width=\"' + strokeWidth + '\" stroke=\"' + stroke + '\" stroke-opacity=\"' + strokeOpacity +\n          '\" fill=\"' + fill + '\" fill-opacity=\"' + fillOpacity + '\"/>'\n\n      return path\n  },\n  _createSVG: function() {\n      var path = this._createPath()\n      var circle = this._createCircle()\n      var text = this._createText()\n      var className = this.options.className + \"-svg\"\n\n      var style = \"width:\" + this.options.iconSize.x + \"px; height:\" + this.options.iconSize.y + \"px; \" + this.options.style;\n\n      var svg = '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" class=\"' + className + '\" style=\"' + style + '\">' + path + circle + text + '</svg>'\n\n      return svg\n  },\n  _createText: function() {\n      var fontSize = this.options.fontSize + \"px\"\n      var fontWeight = this.options.fontWeight\n      var lineHeight = Number(this.options.fontSize)\n\n      var x = this.options.circleAnchor.x\n      var y = this.options.circleAnchor.y + (lineHeight * 0.35) //35% was found experimentally\n      var circleText = this.options.circleText\n      var textColor = this.options.fontColor.replace(\"rgb(\", \"rgba(\").replace(\")\", \",\" + this.options.fontOpacity + \")\")\n\n      var text = '<text text-anchor=\"middle\" x=\"' + x + '\" y=\"' + y + '\" style=\"font-size: ' + fontSize + '; font-weight: ' + fontWeight +'\" fill=\"' + textColor + '\">' + circleText + '</text>'\n\n      return text\n  }\n})\n\nL.divIcon.svgIcon = function(options) {\n  return new L.DivIcon.SVGIcon(options)\n}\n\nL.Marker.SVGMarker = L.Marker.extend({\n  options: {\n      \"iconFactory\": L.divIcon.svgIcon,\n      \"iconOptions\": {}\n  },\n  initialize: function(latlng, options) {\n      options = L.Util.setOptions(this, options)\n      options.icon = options.iconFactory(options.iconOptions)\n      this._latlng = latlng\n  },\n  onAdd: function(map) {\n      L.Marker.prototype.onAdd.call(this, map)\n  },\n  setStyle: function(style) {\n      if (this._icon) {\n          var svg = this._icon.children[0]\n          var iconBody = this._icon.children[0].children[0]\n          var iconCircle = this._icon.children[0].children[1]\n\n          if (style.color && !style.iconOptions) {\n              var stroke = style.color.replace(\"rgb\",\"rgba\").replace(\")\", \",\"+this.options.icon.options.opacity+\")\")\n              var fill = style.color.replace(\"rgb\",\"rgba\").replace(\")\", \",\"+this.options.icon.options.fillOpacity+\")\")\n              iconBody.setAttribute(\"stroke\", stroke)\n              iconBody.setAttribute(\"fill\", fill)\n              iconCircle.setAttribute(\"stroke\", stroke)\n\n              this.options.icon.fillColor = fill\n              this.options.icon.color = stroke\n              this.options.icon.circleColor = stroke\n          }\n          if (style.opacity) {\n              this.setOpacity(style.opacity)\n          }\n          if (style.iconOptions) {\n              if (style.color) { style.iconOptions.color = style.color }\n              var iconOptions = L.Util.setOptions(this.options.icon, style.iconOptions)\n              this.setIcon(L.divIcon.svgIcon(iconOptions))\n          }\n      }\n  }\n})\n\nL.marker.svgMarker = function(latlng, options) {\n  return new L.Marker.SVGMarker(latlng, options)\n}\n\nL.DivIcon.SVGIcon.IndicatorIcon = L.DivIcon.SVGIcon.extend({\n  _createCircle() {\n      const circle = L.DivIcon.SVGIcon.prototype._createCircle.call(this);\n\n      const cx = Number(this.options.circleAnchor.x)\n      const cy = Number(this.options.circleAnchor.y)\n      const radius = this.options.iconSize.x / 2 * Number(this.options.circleRatio)\n\n      const circum = Math.PI * radius;\n      const pieSize = this.options.loadRate * circum;\n\n      const notif = `<circle r=\"3\" cx=\"${5}\" cy=\"${5}\"\n        style=\"\n          fill: red;\n          stroke: none;\n        \"\n      >\n      </circle>`\n\n      const pie = `\n        <circle r=\"${radius / 2}\" cx=\"${cx}\" cy=\"${cy}\"\n          style=\"\n            transform: rotateZ(-90deg);\n            transform-origin: ${cx}px ${cy}px;\n            fill: none;\n            stroke-width: ${radius};\n            stroke: rgb(38, 166, 91);\n            stroke-dasharray: ${pieSize} ${circum};\n            \"\n        >\n        </circle>`;\n\n      return this.options.notif ? circle + pie + notif : circle + pie;\n  },\n\n  _createSVG: function() {\n    var path = this._createPath()\n    var circle = this._createCircle()\n    var text = this._createText()\n    var className = this.options.className + \"-svg\"\n\n    var style = \"width:\" + this.options.iconSize.x + \"px; height:\" + this.options.iconSize.y + \"px;\";\n\n    var svg = '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" class=\"' + className + '\" style=\"' + style + '\">' + path + circle + text + '</svg>'\n\n    return svg\n},\n});\n","import moment from 'moment-timezone';\nimport qs from 'qs';\n\nconst { REACT_APP_NUCLEAR_MONITOR_API } = process.env;\n\nexport async function getRivers() {\n  return Promise.all(\n    ['garonne', 'loire', 'meuse', 'moselle', 'rhin', 'rhone', 'seine'].map(\n      river => fetch(`./rivers/${river}.json`).then(res => res.json()),\n    ),\n  );\n}\n\nexport async function getPlants() {\n  const res = await fetch(`${REACT_APP_NUCLEAR_MONITOR_API}/plants`);\n  const data = await res.json();\n\n  return data;\n}\n\nexport async function getReactors() {\n  const res = await fetch(`${REACT_APP_NUCLEAR_MONITOR_API}/reactors`);\n  const data = await res.json();\n\n  return data;\n}\n\nexport async function getProductions() {\n  const res = await fetch(`${REACT_APP_NUCLEAR_MONITOR_API}/productions`);\n  const data = await res.json();\n\n  return data;\n}\n\nexport async function getUnavailabilities() {\n  const res = await fetch(`${REACT_APP_NUCLEAR_MONITOR_API}/unavailabilities`);\n  const data = await res.json();\n\n  return data;\n}\n\nconst START_URL =\n  'https://opendata.reseaux-energies.fr/api/records/1.0/search/?';\nconst DATE_FORMAT = 'YYYY-MM-DD';\nexport async function getMix() {\n  const res = await fetch(\n    `${START_URL}${qs.stringify({\n      dataset: 'eco2mix-national-tr',\n      rows: 96,\n      sort: '-date_heure',\n      'refine.date': moment()\n        .tz('Europe/Paris')\n        .format(DATE_FORMAT),\n    })}`,\n  );\n  const data = await res.json();\n\n  const mix = data.records.map(({ fields }) => ({\n    isOk: !!fields.nucleaire,\n    datetime: moment(fields.date_heure).unix(),\n    wind: Number(fields.eolien),\n    solar: Number(fields.solaire),\n    nuclear: Number(fields.nucleaire),\n    gas: Number(fields.gaz),\n    oil: Number(fields.fioul),\n    coal: Number(fields.charbon),\n    consumption: Number(fields.consommation),\n    biomass: Number(fields.bioenergies),\n    hydroPumped: Number(fields.pompage),\n    hydro: Number(fields.hydraulique),\n    imports: Math.max(0, Number(fields.ech_physiques)),\n    exports: Math.min(0, Number(fields.ech_physiques)),\n  }));\n\n  return mix;\n}\n","import { values, indexBy, prop } from 'ramda';\n\nimport { getProductions } from '../api';\n\nexport const PRODUCTIONS_LOAD_ACTION = 'PRODUCTIONS_LOAD_ACTION';\nexport const PRODUCTIONS_RECEIVE_ACTION = 'PRODUCTIONS_RECEIVE_ACTION';\n\nfunction loadProductionsAction() {\n  return { type: PRODUCTIONS_LOAD_ACTION };\n}\n\nfunction receiveProductionsAction({ data, errors }) {\n  return { type: PRODUCTIONS_RECEIVE_ACTION, data, errors };\n}\n\nexport function loadAllProductions() {\n  return function dispatchLoadAllProductions(dispatch) {\n    dispatch(loadProductionsAction());\n    return getProductions()\n      .then(data =>\n        dispatch(\n          receiveProductionsAction({\n            data: indexBy(prop('eicCode'), data),\n          }),\n        ),\n      )\n      .catch(\n        errors =>\n          console.error(errors) &&\n          dispatch(receiveProductionsAction({ errors })),\n      );\n  };\n}\n\nconst initialState = {\n  loading: false,\n  loaded: false,\n  errors: null,\n  data: {},\n};\n\nfunction productionsReducer(state = initialState, action) {\n  const { type } = action;\n  switch (type) {\n    case PRODUCTIONS_LOAD_ACTION:\n      return { ...state, loading: true };\n    case PRODUCTIONS_RECEIVE_ACTION:\n      return {\n        ...state,\n        loading: false,\n        loaded: !action.errors,\n        errors: action.errors || null,\n        data: action.data || {},\n      };\n    default:\n      return state;\n  }\n}\n\nexport function productionsLoadedSelector(state) {\n  return state.productions.loaded;\n}\n\nexport function productionsSelector(state) {\n  return values(state.productions.data);\n}\n\nexport function productionSelector(eicCode, state) {\n  return (\n    state.productions.data[eicCode] && state.productions.data[eicCode].values\n  );\n}\n\nexport default productionsReducer;\n","import { values, indexBy, prop } from 'ramda';\n\nimport { getUnavailabilities } from '../api';\n\nexport const UNAVAILABILITIES_LOAD_ACTION = 'UNAVAILABILITIES_LOAD_ACTION';\nexport const UNAVAILABILITIES_RECEIVE_ACTION =\n  'UNAVAILABILITIES_RECEIVE_ACTION';\n\nfunction loadUnavailabilitiesAction() {\n  return { type: UNAVAILABILITIES_LOAD_ACTION };\n}\n\nfunction receiveUnavailabilitiesAction({ data, errors }) {\n  return { type: UNAVAILABILITIES_RECEIVE_ACTION, data, errors };\n}\n\nexport function loadAllUnavailabilities() {\n  return function dispatchLoadAllUnavailabilities(dispatch) {\n    dispatch(loadUnavailabilitiesAction());\n    return getUnavailabilities()\n      .then(data =>\n        dispatch(\n          receiveUnavailabilitiesAction({\n            data: indexBy(prop('eicCode'), data),\n          }),\n        ),\n      )\n      .catch(\n        errors =>\n          console.error(errors) &&\n          dispatch(receiveUnavailabilitiesAction({ errors })),\n      );\n  };\n}\n\nconst initialState = {\n  loading: false,\n  loaded: false,\n  errors: null,\n  data: {},\n};\n\nfunction unavailabilitiesReducer(state = initialState, action) {\n  const { type } = action;\n  switch (type) {\n    case UNAVAILABILITIES_LOAD_ACTION:\n      return { ...state, loading: true };\n    case UNAVAILABILITIES_RECEIVE_ACTION:\n      return {\n        ...state,\n        loading: false,\n        loaded: !action.errors,\n        errors: action.errors || null,\n        data: action.data || {},\n      };\n    default:\n      return state;\n  }\n}\n\nexport function unavailabilitiesLoadedSelector(state) {\n  return state.unavailabilities.loaded;\n}\n\nexport function unavailabilitiesSelector(state) {\n  return values(state.unavailabilities.data);\n}\n\nexport function unavalabilitySelector(eicCode, state) {\n  return state.unavailabilities.data[eicCode];\n}\n\nexport default unavailabilitiesReducer;\n","import { values, indexBy, prop, sortBy } from 'ramda';\n\nimport { getReactors } from '../api';\n\nimport { productionSelector } from './productions';\nimport { unavalabilitySelector } from './unavailabilities';\n\nexport const REACTORS_LOAD_ACTION = 'REACTORS_LOAD_ACTION';\nexport const REACTORS_RECEIVE_ACTION = 'REACTORS_RECEIVE_ACTION';\n\nfunction loadReactorsAction() {\n  return { type: REACTORS_LOAD_ACTION };\n}\n\nfunction receiveReactorsAction({ data, errors }) {\n  return { type: REACTORS_RECEIVE_ACTION, data, errors };\n}\n\nexport function loadAllReactors() {\n  return function dispatchLoadAllReactors(dispatch) {\n    dispatch(loadReactorsAction());\n    return getReactors()\n      .then(data =>\n        dispatch(\n          receiveReactorsAction({\n            data: indexBy(prop('eicCode'), data),\n          }),\n        ),\n      )\n      .catch(\n        errors =>\n          console.error(errors) && dispatch(receiveReactorsAction({ errors })),\n      );\n  };\n}\n\nconst initialState = {\n  loading: false,\n  loaded: false,\n  errors: null,\n  data: {},\n};\n\nfunction reactorsReducer(state = initialState, action) {\n  const { type } = action;\n  switch (type) {\n    case REACTORS_LOAD_ACTION:\n      return { ...state, loading: true };\n    case REACTORS_RECEIVE_ACTION:\n      return {\n        ...state,\n        loading: false,\n        loaded: !action.errors,\n        errors: action.errors || null,\n        data: action.data || {},\n      };\n    default:\n      return state;\n  }\n}\n\nexport function reactorsLoadedSelector(state) {\n  return state.reactors.loaded;\n}\n\nfunction getStatus(unavailability) {\n  if (unavailability) {\n    if (unavailability.type === 'PLANNED_MAINTENANCE') {\n      if (unavailability.availablePower_MW === 0) {\n        return 'PLANNED_STOP';\n      }\n      return 'PLANNED_REDUCTION';\n    }\n    if (unavailability.availablePower_MW === 0) {\n      return 'AUTO_STOP';\n    }\n    return 'UNPLANNED_REDUCTION';\n  }\n  return 'RUNNING';\n}\n\nexport function reactorSelector(eicCode, state) {\n  const reactor = state.reactors.data[eicCode];\n  const dayProductions = productionSelector(eicCode, state);\n  const unavailability = unavalabilitySelector(eicCode, state);\n\n  return {\n    ...reactor,\n    status: getStatus(unavailability),\n    dayProductions,\n    unavailability,\n  };\n}\n\nexport function reactorsSelector(state) {\n  return values(state.reactors.data).map(reactor =>\n    reactorSelector(reactor.eicCode, state),\n  );\n}\n\nexport function reactorsOfPlantSelector(plantId, state) {\n  const reactors = Object.values(state.reactors.data)\n    .filter(reactor => reactor.plantId === plantId)\n    .map(reactor => reactorSelector(reactor.eicCode, state));\n\n  return sortBy(prop('reactorIndex'), reactors);\n}\n\nconst INIT_DATA = {\n  availablePower: 0,\n  totalPower: 0,\n  availableCount: 0,\n  partiallyUnavailableCount: 0,\n  totallyUnavailableCount: 0,\n};\nexport function reactorSetIndicatorsSelector(hourOfDay, state) {\n  const reactors = reactorsSelector(state);\n\n  return reactors.reduce((res, reactor) => {\n    const res2 = {\n      availablePower: 0,\n      availableCount: 0,\n      partially: 0,\n      totally: 0,\n    };\n\n    if (reactor.unavailability) {\n      if (reactor.unavailability.availablePower_MW === 0) {\n        res2.totally = 1;\n      } else {\n        res2.availableCount = 1;\n        res2.partially = 1;\n      }\n      res2.availablePower = reactor.unavailability.availablePower_MW;\n    } else {\n      res2.availableCount = 1;\n      res2.availablePower = reactor.power_MW;\n    }\n\n    return {\n      totalPower: res.totalPower + reactor.power_MW,\n      availablePower: res.availablePower + res2.availablePower,\n      availableCount: res.availableCount + res2.availableCount,\n      totallyUnavailableCount: res.totallyUnavailableCount + res2.totally,\n      partiallyUnavailableCount: res.partiallyUnavailableCount + res2.partially,\n    };\n  }, INIT_DATA);\n}\n\nexport function reactorByPlantAndIndexSelector(\n  { plantId, reactorIndex },\n  state,\n) {\n  const reacto = Object.values(state.reactors.data).find(\n    reactor =>\n      reactor.plantId === plantId && reactor.reactorIndex === reactorIndex,\n  );\n  return reacto && reactorSelector(reacto.eicCode, state);\n}\n\nexport function reactorsOfPlant(plantId, state) {\n  return Object.values(state.reactors.data)\n    .filter(r => r.plantId === plantId)\n    .map(r => reactorSelector(r.eicCode, state));\n}\n\nexport default reactorsReducer;\n","import { values, indexBy, prop } from 'ramda';\n\nimport { getPlants } from '../api';\n\nimport { reactorsOfPlantSelector } from './reactors';\n\nexport const PLANTS_LOAD_ACTION = 'PLANTS_LOAD_ACTION';\nexport const PLANTS_RECEIVE_ACTION = 'PLANTS_RECEIVE_ACTION';\n\nfunction loadPlantsAction() {\n  return { type: PLANTS_LOAD_ACTION };\n}\n\nfunction receivePlantsAction({ data, errors }) {\n  return { type: PLANTS_RECEIVE_ACTION, data, errors };\n}\n\nexport function loadAllPlants() {\n  return function dispatchLoadAllPlants(dispatch) {\n    dispatch(loadPlantsAction());\n    return getPlants()\n      .then(data =>\n        dispatch(\n          receivePlantsAction({\n            data: indexBy(prop('id'), data),\n          }),\n        ),\n      )\n      .catch(\n        errors =>\n          console.error(errors) && dispatch(receivePlantsAction({ errors })),\n      );\n  };\n}\n\nconst initialState = {\n  loading: false,\n  loaded: false,\n  errors: null,\n  data: {},\n};\n\nfunction plantsReducer(state = initialState, action) {\n  const { type } = action;\n  switch (type) {\n    case PLANTS_LOAD_ACTION:\n      return { ...state, loading: true };\n    case PLANTS_RECEIVE_ACTION:\n      return {\n        ...state,\n        loading: false,\n        loaded: !action.errors,\n        errors: action.errors || null,\n        data: action.data || {},\n      };\n    default:\n      return state;\n  }\n}\n\nexport function plantsLoadedSelector(state) {\n  return state.plants.loaded;\n}\n\nexport function plantSelector(plantId, state) {\n  return {\n    ...state.plants.data[plantId],\n    reactors: reactorsOfPlantSelector(plantId, state),\n  };\n}\n\nexport function plantsSelector(state) {\n  return values(state.plants.data).map(plant => plantSelector(plant.id, state));\n}\n\nexport default plantsReducer;\n","import { getMix } from '../api';\n\nexport const MIX_LOAD_ACTION = 'MIX_LOAD_ACTION';\nexport const MIX_RECEIVE_ACTION = 'MIX_RECEIVE_ACTION';\n\nfunction loadMixAction() {\n  return { type: MIX_LOAD_ACTION };\n}\n\nfunction receiveMixAction({ data, errors }) {\n  return { type: MIX_RECEIVE_ACTION, data, errors };\n}\n\nexport function loadAllMix() {\n  return function dispatchLoadAllMix(dispatch) {\n    dispatch(loadMixAction());\n    return getMix()\n      .then(data =>\n        dispatch(\n          receiveMixAction({\n            data,\n          }),\n        ),\n      )\n      .catch(\n        errors =>\n          console.error(errors) && dispatch(receiveMixAction({ errors })),\n      );\n  };\n}\n\nconst initialState = {\n  loading: false,\n  loaded: false,\n  errors: null,\n  data: {},\n};\n\nfunction mixReducer(state = initialState, action) {\n  const { type } = action;\n  switch (type) {\n    case MIX_LOAD_ACTION:\n      return { ...state, loading: true };\n    case MIX_RECEIVE_ACTION:\n      return {\n        ...state,\n        loading: false,\n        loaded: !action.errors,\n        errors: action.errors || null,\n        data: action.data || {},\n      };\n    default:\n      return state;\n  }\n}\n\nexport function mixLoadedSelector(state) {\n  return state.mix.loaded;\n}\n\nexport function mixSelector(state) {\n  return state.mix.data;\n}\n\nexport default mixReducer;\n","import { getRivers } from '../api';\n\nexport const RIVERS_LOAD_ACTION = 'RIVERS_LOAD_ACTION';\nexport const RIVERS_RECEIVE_ACTION = 'RIVERS_RECEIVE_ACTION';\n\nfunction loadRiversAction() {\n  return { type: RIVERS_LOAD_ACTION };\n}\n\nfunction receiveRiversAction({ data, errors }) {\n  return { type: RIVERS_RECEIVE_ACTION, data, errors };\n}\n\nexport function loadAllRivers() {\n  return function dispatchLoadAllRivers(dispatch) {\n    dispatch(loadRiversAction());\n    return getRivers()\n      .then(data =>\n        dispatch(\n          receiveRiversAction({\n            data,\n          }),\n        ),\n      )\n      .catch(\n        errors =>\n          console.error(errors) && dispatch(receiveRiversAction({ errors })),\n      );\n  };\n}\n\nconst initialState = {\n  loading: false,\n  loaded: false,\n  errors: null,\n  data: {},\n};\n\nfunction riversReducer(state = initialState, action) {\n  const { type } = action;\n  switch (type) {\n    case RIVERS_LOAD_ACTION:\n      return { ...state, loading: true };\n    case RIVERS_RECEIVE_ACTION:\n      return {\n        ...state,\n        loading: false,\n        loaded: !action.errors,\n        errors: action.errors || null,\n        data: action.data || {},\n      };\n    default:\n      return state;\n  }\n}\n\nexport function riversLoadedSelector(state) {\n  return state.rivers.loaded;\n}\n\nexport function riversSelector(state) {\n  return state.rivers.data;\n}\n\nexport default riversReducer;\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\nimport thunk from 'redux-thunk';\n\nimport plantsReducer from './plants';\nimport reactorsReducer from './reactors';\nimport productionsReducer from './productions';\nimport mixReducer from './mix';\nimport unavailabilitiesReducer from './unavailabilities';\nimport riversReducer from './rivers';\n\nconst rootReducer = combineReducers({\n  // ...reducers,\n  plants: plantsReducer,\n  reactors: reactorsReducer,\n  productions: productionsReducer,\n  mix: mixReducer,\n  unavailabilities: unavailabilitiesReducer,\n  rivers: riversReducer,\n});\n\nconst enhancers = [applyMiddleware(thunk)];\nconst composeEnhancers = composeWithDevTools({\n  // actionSanitizer,\n  // stateSanitizer,\n});\nconst enhancer = composeEnhancers(...enhancers);\n\nconst store = createStore(rootReducer, enhancer);\n\nexport default store;\n","// eslint-disable-next-line import/prefer-default-export\nexport function testScreenType(size) {\n  const windowWidth = window.innerWidth;\n\n  switch (size) {\n    case 'xs':\n      return windowWidth < 576;\n    case 'sm':\n      return windowWidth >= 576;\n    case 'md':\n      return windowWidth >= 768;\n    case 'lg':\n      return windowWidth >= 992;\n    case 'xl':\n      return windowWidth >= 1200;\n    case 'xxl':\n      return windowWidth >= 1600;\n    default:\n      return false;\n  }\n}\n\nexport function getWindowHeight() {\n  const { body } = document;\n  const html = document.documentElement;\n  return Math.max(\n    body.scrollHeight,\n    body.offsetHeight,\n    html.clientHeight,\n    html.scrollHeight,\n    html.offsetHeight,\n  );\n}\n\nexport function format(v) {\n  // eslint-disable-next-line no-restricted-globals\n  return isNaN(v) ? '-' : `${v}`;\n}\n\nexport const HEADER_HEIGHT = 64;\nexport const DRAWER_WIDTH = 400;\n","export const META = {\n  hydroPumped: {\n    label: 'POMPAGE',\n    color: '#114774',\n    stackId: '2',\n  },\n  biomass: {\n    label: 'BIOENERG.',\n    color: '#166a57',\n  },\n  wind: {\n    label: 'EOLIEN',\n    color: '#74cdb9',\n  },\n  solar: {\n    label: 'SOLAIRE',\n    color: '#f27406',\n  },\n  nuclear: {\n    label: 'NUCLEAIRE',\n    color: '#f5b300',\n  },\n  hydro: {\n    label: 'HYDRAU.',\n    color: '#2772b2',\n  },\n  gas: {\n    label: 'GAS',\n    color: '#f30a0a',\n  },\n  coal: {\n    label: 'CHARBON',\n    color: '#ac8c35',\n  },\n  oil: {\n    label: 'FIOUL',\n    color: '#8356a2',\n  },\n  exports: {\n    label: 'EXPORTS',\n    color: '#969696',\n    stackId: '2',\n  },\n  imports: {\n    label: 'IMPORTS',\n    color: '#969696',\n  },\n};\n\nexport const GRAPH_ORDER = [\n  'hydroPumped',\n  'exports',\n  'biomass',\n  'nuclear',\n  'hydro',\n  'gas',\n  'coal',\n  'oil',\n  'wind',\n  'solar',\n  'imports',\n];\n\nexport const HEADER_ORDER = [\n  'oil',\n  'coal',\n  'gas',\n  'hydro',\n  'nuclear',\n  'solar',\n  'wind',\n  'biomass',\n  'hydroPumped',\n];\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport debounce from 'lodash.debounce';\nimport moment from 'moment';\n\nimport { Slider } from 'antd';\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  Line,\n  ReferenceLine,\n  YAxis,\n  Area,\n} from 'recharts';\n\nimport { MixType } from '../../../utils/types';\n\nimport { META, HEADER_ORDER, GRAPH_ORDER } from './config';\n\nfunction format(v) {\n  // eslint-disable-next-line no-restricted-globals\n  return isNaN(v) ? '-' : `${v}`;\n}\n\nfunction MixComponent({ mix, slotIndex, setSlotIndex }) {\n  return (\n    <div className=\"MixComponent\">\n      <div className=\"MixComponent__header\">\n        {HEADER_ORDER.map(key => (\n          <div\n            key={key}\n            className=\"MixComponent__header__item\"\n            style={{\n              backgroundColor: META[key].color,\n            }}\n          >\n            {format(Math.abs(mix[slotIndex][key]))}\n            <span className=\"MixComponent__header__item__small\"> MW</span>\n            <br />\n            <span className=\"MixComponent__header__item__small\">\n              {META[key].label}\n            </span>\n          </div>\n        ))}\n        <div\n          className=\"MixComponent__header__item\"\n          style={{\n            backgroundColor: META.imports.color,\n          }}\n        >\n          {format(Math.max(mix[slotIndex].imports, -mix[slotIndex].exports))}\n          <span className=\"MixComponent__header__item__small\"> MW</span>\n          <br />\n          <span className=\"MixComponent__header__item__small\">\n            {mix[slotIndex].exports < 0\n              ? META.exports.label\n              : META.imports.label}\n          </span>\n        </div>\n        <div className=\"MixComponent__header__item\" />\n        <div\n          className=\"MixComponent__header__item\"\n          style={{ backgroundColor: 'black' }}\n        >\n          {format(mix[slotIndex].consumption)}\n          <span className=\"MixComponent__header__item__small\"> MW</span>\n          <br />\n          <span className=\"MixComponent__header__item__small\">CONSO</span>\n        </div>\n      </div>\n\n      <div className=\"MixComponent__chart\">\n        <ResponsiveContainer>\n          <ComposedChart data={mix}>\n            <YAxis axisLine mirror />\n            {GRAPH_ORDER.map(key => (\n              <Area\n                key={key}\n                dataKey={key}\n                type=\"monotone\"\n                activeDot={false}\n                stroke=\"none\"\n                fill={META[key].color}\n                stackId={META[key].stackId || '1'}\n              />\n            ))}\n            <Line\n              dataKey=\"consumption\"\n              dot={false}\n              activeDot={false}\n              type=\"monotone\"\n              stroke=\"black\"\n            />\n            <ReferenceLine x={slotIndex} stroke=\"#4b4e52\" />\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n      <div className=\"MixComponent__sliderContainer\">\n        <Slider\n          min={0}\n          max={95}\n          style={{ width: '100%' }}\n          defaultValue={slotIndex}\n          // value={slotIndex}\n          onChange={debounce(setSlotIndex, 400)}\n          tipFormatter={\n            value =>\n              moment()\n                .startOf('day')\n                .add(value * 15, 'minutes')\n                .format('HH:mm')\n            // eslint-disable-next-line react/jsx-curly-newline\n          }\n        />\n      </div>\n    </div>\n  );\n}\n\nMixComponent.propTypes = {\n  mix: PropTypes.arrayOf(MixType).isRequired,\n  slotIndex: PropTypes.number.isRequired,\n  setSlotIndex: PropTypes.func.isRequired,\n};\n\nexport default MixComponent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux';\nimport { withState, compose } from 'recompose';\n\nimport { Row, Col } from 'antd';\n\nimport moment from 'moment-timezone';\n\nimport { format } from '../../utils/index';\nimport { MixType } from '../../utils/types';\nimport { mixSelector } from '../../store/mix';\nimport { reactorSetIndicatorsSelector } from '../../store/reactors';\n\nimport './index.css';\nimport MixComponent from './components/MixComponent';\n\nfunction MixView(props) {\n  const { mix, slotIndex, setSlotIndex, reactorSetIndicators } = props;\n  const {\n    totalPower,\n    availablePower,\n    availableCount,\n    partiallyUnavailableCount,\n    totallyUnavailableCount,\n  } = reactorSetIndicators;\n\n  const total = Math.floor(totalPower / 1000);\n  const available = Math.floor(availablePower);\n  const availabilityRate = Math.floor((100 * availablePower) / totalPower);\n  const prodAvailableRate = Math.floor(\n    (100 * mix[slotIndex].nuclear) / availablePower,\n  );\n  const date = moment()\n    .tz('Europe/Paris')\n    .hour(Math.floor(slotIndex / 4))\n    .minutes(15 * (slotIndex % 4))\n    .format('DD/MM/YYYY HH:mm');\n\n  return (\n    <div className=\"MixView\">\n      <Row>\n        <Col span={24}>\n          <MixComponent\n            mix={mix}\n            slotIndex={slotIndex}\n            setSlotIndex={setSlotIndex}\n          />\n          <div className=\"MixView__date\">{date}</div>\n          <div className=\"MixView__nuclear\">\n            <strong>{`Parc nucléaire (${total} GW):`}</strong>\n            <div className=\"MixView__nuclear__indicator\">\n              <div\n                className=\"MixView__nuclear__indicator__prod\"\n                style={{\n                  width: `${((mix[slotIndex].nuclear || 0) / totalPower) *\n                    100}%`,\n                }}\n              >\n                <div>{`Prod: ${format(mix[slotIndex].nuclear)} MW`}</div>\n                <div>{`${format(prodAvailableRate)}% du dispo.`}</div>\n              </div>\n              <div\n                className=\"MixView__nuclear__indicator__available\"\n                style={{\n                  width: `${((availablePower - (mix[slotIndex].nuclear || 0)) /\n                    totalPower) *\n                    100}%`,\n                }}\n              />\n            </div>\n            <div className=\"MixView__nuclear__available\">\n              {`${availableCount} réacteurs disponibles: ${available} MW (${availabilityRate}%)`}\n            </div>\n            <div>\n              {`dont ${partiallyUnavailableCount} partiellement indisponible${\n                partiallyUnavailableCount > 1 ? 's' : ''\n              }`}\n            </div>\n            <div className=\"MixView__nuclear__stopped\">\n              {`${totallyUnavailableCount} réacteur${\n                totallyUnavailableCount > 1 ? 's' : ''\n              } arrêté${totallyUnavailableCount > 1 ? 's' : ''}`}\n            </div>\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nMixView.propTypes = {\n  mix: PropTypes.arrayOf(MixType).isRequired,\n  slotIndex: PropTypes.number.isRequired,\n  setSlotIndex: PropTypes.func.isRequired,\n  reactorSetIndicators: PropTypes.shape({\n    availablePower: PropTypes.number.isRequired,\n    totalPower: PropTypes.number.isRequired,\n    availableCount: PropTypes.number.isRequired,\n    totallyUnavailableCount: PropTypes.number.isRequired,\n    partiallyUnavailableCount: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nconst withStateEnhancer = withState('slotIndex', 'setSlotIndex', () =>\n  Math.max(\n    Math.floor(moment().diff(moment().startOf('day'), 'minutes') / 15) - 8,\n    0,\n  ),\n);\n\nconst connectEnhancer = connect((state, props) => ({\n  mix: mixSelector(state),\n  reactorSetIndicators: reactorSetIndicatorsSelector(\n    Math.floor(props.slotIndex / 4),\n    state,\n  ),\n}));\n\nexport default compose(\n  withStateEnhancer,\n  connectEnhancer,\n)(MixView);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon } from 'antd';\n\nconst { ReactorType } = require('../../../utils/types');\n\nfunction StatusIndicator(props) {\n  const style = { fontSize: 16 };\n  switch (props.status) {\n    case 'PLANNED_STOP':\n      return (\n        <Icon\n          type=\"tool\"\n          theme=\"filled\"\n          style={{ ...style, color: '#404040' }}\n        />\n      );\n    case 'UNPLANNED_REDUCTION':\n    case 'AUTO_STOP':\n      return (\n        <Icon\n          type=\"exclamation-circle\"\n          theme=\"twoTone\"\n          twoToneColor=\"red\"\n          style={style}\n        />\n      );\n    case 'PLANNED_REDUCTION':\n      return <Icon type=\"info-circle\" theme=\"twoTone\" style={style} />;\n    default:\n      return null;\n  }\n}\nStatusIndicator.propTypes = {\n  status: PropTypes.string.isRequired,\n};\n\nfunction ReactorIndicator(props) {\n  const { reactor } = props;\n  const prods = reactor.dayProductions;\n  const currentProd = prods[prods.length - 1];\n  const absLoad = Math.max(0, currentProd.value);\n  const part = Math.floor((absLoad / reactor.power_MW) * 100);\n\n  return (\n    <div\n      className=\"ReactIndicator\"\n      style={{\n        background: `linear-gradient(0deg, #26a65b 0%, #26a65b ${part}%, rgba(255,255,255,1) ${part}%)`,\n      }}\n    >\n      <div className=\"ReactIndicator__status\">\n        <StatusIndicator status={reactor.status} />\n      </div>\n      <div className=\"ReactIndicator__prod\">\n        <strong>{Math.floor(absLoad)}</strong>\n      </div>\n      <div className=\"ReactIndicator__number\">{reactor.reactorIndex}</div>\n    </div>\n  );\n}\n\nReactorIndicator.propTypes = {\n  reactor: ReactorType.isRequired,\n};\n\nexport default ReactorIndicator;\n","import React from 'react';\n\nimport { ResponsiveContainer, AreaChart, XAxis, YAxis, Area } from 'recharts';\n\nimport { ReactorType } from '../../../utils/types';\n\nconst TICKS = [0, 12, 24];\n\nfunction tickFormatter(value) {\n  return value ? `${value}:00` : '00:00';\n}\n\nfunction ReactorLoadChart(props) {\n  const { reactor } = props;\n\n  const endOfDay = Array.from({\n    length: 24 - reactor.dayProductions.length + 1,\n  }).map(() => ({ value: null }));\n  const data = reactor.dayProductions.concat(endOfDay);\n\n  return (\n    <div key={reactor.name} className=\"ReactorLoadChart\">\n      <div>Production (MW)</div>\n      <div className=\"ReactorLoadChart__chart\">\n        <ResponsiveContainer>\n          <AreaChart data={data}>\n            <XAxis\n              domain={[0, 24]}\n              ticks={TICKS}\n              tickFormatter={tickFormatter}\n            />\n            <YAxis />\n            <Area\n              dataKey=\"value\"\n              dot={false}\n              activeDot={false}\n              type=\"monotone\"\n              stroke=\"rgb(28, 114, 64)\"\n              fill=\"rgb(38, 166, 91)\"\n              fillOpacity={1}\n            />\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}\n\nReactorLoadChart.propTypes = {\n  reactor: ReactorType.isRequired,\n};\n\nexport default ReactorLoadChart;\n","import React from 'react';\n\nimport { Link } from 'react-router-dom';\nimport { Descriptions, Icon } from 'antd';\nimport moment from 'moment-timezone';\n\nimport { ReactorType } from '../../../utils/types';\n\nimport ReactorLoadChart from './ReactorLoadChart';\n\nfunction shouldDisplayLoadGraph(reactor) {\n  if (!reactor.unavailability) {\n    return true;\n  }\n  const startDate = moment(reactor.unavailability.startDate);\n\n  return (\n    reactor.unavailability.availablePower_MW > 0 ||\n    startDate.isAfter(moment().startOf('day')) ||\n    moment().diff(startDate, 'hours') < 6\n  );\n}\n\nfunction ReactorDetails({ reactor }) {\n  return (\n    <div className=\"ReactorDetails\">\n      <Descriptions\n        title={\n          // eslint-disable-next-line react/jsx-wrap-multilines\n          <div className=\"ReactorDetails__header\">\n            <div>{reactor.name}</div>\n            <div>\n              <Link to={`/plant/${reactor.plantId}`}>\n                <Icon type=\"caret-up\" theme=\"filled\" />\n              </Link>\n            </div>\n          </div>\n        }\n        size=\"small\"\n        bordered\n        column={1}\n      >\n        <Descriptions.Item label=\"Début d'exploitation\">\n          {reactor.exploitationStartYear}\n        </Descriptions.Item>\n        <Descriptions.Item label=\"Puissance nominale\">\n          {`${reactor.power_MW} MWe (${reactor.stage})`}\n        </Descriptions.Item>\n      </Descriptions>\n\n      {shouldDisplayLoadGraph(reactor) && (\n        <ReactorLoadChart reactor={reactor} />\n      )}\n\n      {reactor.unavailability && (\n        <Descriptions\n          title=\"Indisponibilité\"\n          size=\"small\"\n          bordered\n          column={1}\n          style={{ marginTop: 10 }}\n        >\n          <Descriptions.Item label=\"Début\">\n            {moment(reactor.unavailability.startDate)\n              .tz('Europe/Paris')\n              .format('DD/MM/YYYY HH:mm')}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"Fin\">\n            {moment(reactor.unavailability.endDate)\n              .tz('Europe/Paris')\n              .format('DD/MM/YYYY HH:mm')}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"Type\">\n            {reactor.unavailability.type === 'PLANNED_MAINTENANCE'\n              ? 'Plannifiée'\n              : 'Fortuite'}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"Puissance disponible\">\n            {`${reactor.unavailability.availablePower_MW} MW`}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"Description\">\n            {reactor.unavailability.reason}\n          </Descriptions.Item>\n        </Descriptions>\n      )}\n    </div>\n  );\n}\n\nReactorDetails.propTypes = {\n  reactor: ReactorType.isRequired,\n};\n\nexport default ReactorDetails;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport {\n  Route, // as BaseRoute,\n  Switch,\n  Link,\n  Redirect,\n} from 'react-router-dom';\nimport { Row, Col, Select, Tag } from 'antd';\n\nimport { plantSelector, plantsSelector } from '../../store/plants';\nimport { PlantType, ReactorType } from '../../utils/types';\nimport ReactorIndicator from './components/ReactorIndicator';\nimport {\n  reactorsOfPlantSelector,\n  reactorByPlantAndIndexSelector,\n} from '../../store/reactors';\nimport ReactorDetails from './components/ReactorDetails';\n\nimport './index.css';\n\nconst ReactorDetailsContainer = connect((state, props) => {\n  return {\n    reactor: reactorByPlantAndIndexSelector(\n      {\n        plantId: props.match.params.plantId,\n        reactorIndex: Number(props.match.params.reactorIndex),\n      },\n      state,\n    ),\n  };\n})(ReactorDetails);\n\nfunction PlantView(props) {\n  const { plants, currentPlant, reactors, goTo } = props;\n\n  if (!currentPlant) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <div className=\"PlantView\">\n      <Row>\n        <Col span={24}>\n          <div className=\"PlantView__firstRow\">\n            <div className=\"PlantView__firstRow__left\">\n              <Select\n                value={currentPlant.id}\n                size=\"large\"\n                onChange={id => goTo(`/plant/${id}`)}\n                style={{ width: '9em' }}\n              >\n                {plants.map(plant => (\n                  <Select.Option key={plant.id} value={plant.id}>\n                    {plant.name}\n                  </Select.Option>\n                ))}\n              </Select>\n              <span>\n                <Tag style={{ marginLeft: '8px' }}>\n                  {currentPlant.coolingType === 'SEA' ? 'Mer' : 'Fleuve'}\n                </Tag>\n              </span>\n            </div>\n            <div className=\"PlantView__firstRow__right\">\n              <a\n                href={currentPlant.wikiLink}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <img className=\"PlantView__wiki\" src=\"wiki.svg\" alt=\"wiki\" />\n              </a>\n              <a\n                href={currentPlant.asnLink}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <img className=\"PlantView__asn\" src=\"logo-asn.png\" alt=\"asn\" />\n              </a>\n            </div>\n          </div>\n\n          <div className=\"PlantView__schema\">\n            <div>Production (MW)</div>\n            <div className=\"PlantView__reactors\">\n              {reactors.map(reactor => (\n                <Link\n                  key={reactor.eicCode}\n                  to={`/plant/${currentPlant.id}/${reactor.reactorIndex}`}\n                >\n                  <ReactorIndicator reactor={reactor} />\n                </Link>\n              ))}\n            </div>\n            <div\n              className=\"PlantView__cooling\"\n              style={{ width: reactors.length * 50 }}\n            >\n              {currentPlant.coolingPlace}\n            </div>\n          </div>\n          <div className=\"PlantView__footer\">\n            <Switch>\n              <Route\n                path=\"/plant/:plantId/:reactorIndex\"\n                component={ReactorDetailsContainer}\n              />\n              <Route\n                component={() => (\n                  <small>(Cliquer sur un réacteur pour plus de détails)</small>\n                )}\n              />\n            </Switch>\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nPlantView.propTypes = {\n  plants: PropTypes.arrayOf(PlantType).isRequired,\n  currentPlant: PlantType.isRequired,\n  reactors: PropTypes.arrayOf(ReactorType).isRequired,\n  goTo: PropTypes.func.isRequired,\n};\n\nexport default connect((state, props) => {\n  const { plantId } = props.match.params;\n  const reactors = reactorsOfPlantSelector(plantId, state);\n\n  return {\n    plants: plantsSelector(state),\n    currentPlant: plantSelector(plantId, state),\n    goTo: url => props.history.push(url),\n    reactors,\n  };\n})(PlantView);\n","import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { omit, equals } from 'ramda';\n\nclass Loader extends Component {\n  componentDidMount() {\n    const { load, ...otherProps } = this.props;\n\n    load(otherProps);\n  }\n\n  componentDidUpdate(prevProps) {\n    const prevOtherProps = omit(['load'], prevProps);\n    const { load, ...otherProps } = this.props;\n\n    if (!equals(prevOtherProps, otherProps)) {\n      load(otherProps);\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n\nLoader.propTypes = {\n  load: PropTypes.func.isRequired,\n};\n\nfunction buildLoader(loadFunction) {\n  return connect(\n    null,\n    { load: loadFunction },\n  )(Loader);\n}\n\nexport default buildLoader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Map, TileLayer, Marker, ZoomControl, GeoJSON } from 'react-leaflet';\n\nimport Leaflet from 'leaflet';\n\nimport {\n  testScreenType,\n  getWindowHeight,\n  HEADER_HEIGHT,\n  DRAWER_WIDTH,\n} from '../utils';\nimport { PlantType } from '../utils/types';\n\nconst ICON_OPTIONS = {\n  fillOpacity: 1,\n  iconSize: [24, 38],\n  circleColor: 'white',\n  circleRatio: 0.6,\n  circleWeight: 3,\n};\n\nfunction hasNotif(plant) {\n  return plant.reactors.reduce((res, reactor) => {\n    if (reactor.status !== 'RUNNING' && reactor.status !== 'PLANNED_STOP') {\n      return true;\n    }\n    return res;\n  }, false);\n}\n\nfunction plantRatio(plant) {\n  const totalProd = plant.reactors.reduce((res, reactor) => {\n    const prod =\n      reactor.dayProductions.length > 0\n        ? Math.max(\n            reactor.dayProductions[reactor.dayProductions.length - 1].value,\n            0,\n          )\n        : 0;\n\n    return res + prod;\n  }, 0);\n  const totalPower = plant.reactors.reduce((res, r) => res + r.power_MW, 0);\n\n  return totalProd / totalPower;\n}\n\nfunction PlantMap(props) {\n  const { plants, currentPlantId, onPlantClick, drawerHeight, rivers } = props;\n  const isSmallScreen = !testScreenType('sm');\n  const height = getWindowHeight();\n  return (\n    <Map\n      center={[48.3, 2]}\n      zoom={isSmallScreen ? 5 : 6}\n      style={{\n        height: isSmallScreen\n          ? height - HEADER_HEIGHT - drawerHeight\n          : height - HEADER_HEIGHT,\n        marginTop: isSmallScreen ? HEADER_HEIGHT + drawerHeight : HEADER_HEIGHT, // TODO\n        marginLeft: isSmallScreen ? 0 : DRAWER_WIDTH,\n      }}\n      zoomControl={false}\n    >\n      <ZoomControl position=\"bottomright\" />\n      <TileLayer\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n      />\n      {plants.map(plant => (\n        <Marker\n          key={plant.id}\n          title={plant.name}\n          position={plant.coords}\n          icon={\n            plant.id === currentPlantId\n              ? new Leaflet.DivIcon.SVGIcon.IndicatorIcon({\n                  ...ICON_OPTIONS,\n                  color: 'red',\n                  loadRate: plantRatio(plant),\n                  notif: hasNotif(plant),\n                })\n              : new Leaflet.DivIcon.SVGIcon.IndicatorIcon({\n                  ...ICON_OPTIONS,\n                  loadRate: plantRatio(plant),\n                  notif: hasNotif(plant),\n                })\n          }\n          onClick={() => onPlantClick(plant)}\n        />\n      ))}\n      {rivers.map(river => (\n        <GeoJSON data={river} />\n      ))}\n    </Map>\n  );\n}\n\nPlantMap.propTypes = {\n  plants: PropTypes.arrayOf(PlantType).isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  rivers: PropTypes.array.isRequired,\n  currentPlantId: PropTypes.string,\n  onPlantClick: PropTypes.func.isRequired,\n  drawerHeight: PropTypes.number.isRequired,\n};\n\nPlantMap.defaultProps = {\n  currentPlantId: null,\n};\n\nexport default PlantMap;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { Typography } from 'antd';\n\nconst { Title } = Typography;\n\nfunction HomeView() {\n  return (\n    <div className=\"HomeView\">\n      <Title level={2}>Bienvenue</Title>\n      <div>\n        <strong>Nuclear monitor</strong>\n        {' vous permet de consulter:'}\n        <ul>\n          <li>\n            {'le '}\n            <Link to=\"/mix\">mix</Link>\n            {\" de production d'électricité\"}\n          </li>\n          <li>\n            {\"l'état d'une \"}\n            <Link to=\"/plant/GRAVELINES\">centrale</Link>\n            {\" ou d'un \"}\n            <Link to=\"/plant/BLAYAIS/3\">réacteur</Link>\n          </li>\n        </ul>\n      </div>\n      <div className=\"HomeView__marker\">\n        Cliquer sur une centrale pour en savoir plus...\n      </div>\n    </div>\n  );\n}\n\nexport default HomeView;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport {\n  Route, // as BaseRoute,\n  Switch,\n  Redirect,\n  withRouter,\n  Link,\n  matchPath,\n} from 'react-router-dom';\nimport { Layout, Spin, Row, Col, Drawer, Menu } from 'antd';\n\nimport MixView from '../views/MixView';\nimport PlantView from '../views/PlantView';\n\nimport buildLoader from '../HOC/buildLoader';\nimport {\n  loadAllPlants,\n  plantsLoadedSelector,\n  plantsSelector,\n} from '../store/plants';\n\nimport { loadAllReactors, reactorsLoadedSelector } from '../store/reactors';\nimport {\n  loadAllProductions,\n  productionsLoadedSelector,\n} from '../store/productions';\nimport { loadAllMix, mixLoadedSelector } from '../store/mix';\n\nimport {\n  testScreenType,\n  HEADER_HEIGHT,\n  DRAWER_WIDTH,\n  getWindowHeight,\n} from '../utils';\nimport { PlantType } from '../utils/types';\nimport PlantMap from './PlantMap';\nimport {\n  loadAllUnavailabilities,\n  unavailabilitiesLoadedSelector,\n} from '../store/unavailabilities';\nimport {\n  loadAllRivers,\n  riversLoadedSelector,\n  riversSelector,\n} from '../store/rivers';\nimport HomeView from '../views/HomeView';\n\nconst PlantsLoader = buildLoader(loadAllPlants);\nconst ReactorsLoader = buildLoader(loadAllReactors);\nconst ProductionsLoader = buildLoader(loadAllProductions);\nconst MixLoader = buildLoader(loadAllMix);\nconst UnavailabilitiesLoader = buildLoader(loadAllUnavailabilities);\nconst RiversLoader = buildLoader(loadAllRivers);\n\nfunction AppLayout(props) {\n  const { isLoaded, plants, goTo, currentPlantId, isFullPage, rivers } = props;\n  const isSmallScreen = !testScreenType('sm');\n  const drawerHeight = isFullPage ? getWindowHeight() - HEADER_HEIGHT : 220;\n\n  return (\n    <div className=\"AppLayout\">\n      <PlantsLoader />\n      <ReactorsLoader />\n      <ProductionsLoader />\n      <MixLoader />\n      <UnavailabilitiesLoader />\n      <RiversLoader />\n      <Spin\n        size=\"large\"\n        spinning={!isLoaded}\n        indicator={\n          // eslint-disable-next-line react/jsx-wrap-multilines\n          <div>\n            <img\n              className=\"AppLayout__loadingIcon\"\n              src=\"loading_icon.svg\"\n              alt=\"\"\n            />\n          </div>\n        }\n      >\n        {!isLoaded && <div className=\"AppLayout__splash\" />}\n        {isLoaded && (\n          <Layout>\n            <Drawer\n              title={null}\n              visible\n              placement={isSmallScreen ? 'top' : 'left'}\n              style={{ marginTop: HEADER_HEIGHT }}\n              mask={false}\n              closable={false}\n              width={DRAWER_WIDTH}\n              height={drawerHeight}\n              bodyStyle={{ padding: 0 }}\n              drawerStyle={{ transition: 'height 2s ease' }}\n            >\n              <Switch>\n                <Route path=\"/home\" exact component={HomeView} />\n                <Route path=\"/mix\" exact component={MixView} />\n                <Route path=\"/plant/:plantId\" component={PlantView} />\n                <Route\n                  component={() => <Redirect to={{ pathname: '/home' }} />}\n                />\n              </Switch>\n            </Drawer>\n            <Row>\n              <Col span={24}>\n                <Layout.Header className=\"AppLayout__header\">\n                  <Menu\n                    theme=\"dark\"\n                    mode=\"horizontal\"\n                    className=\"AppLayout__menu\"\n                    selectable={false}\n                  >\n                    <Menu.Item>\n                      <Link to=\"/home\">\n                        <strong>Nuclear monitor</strong>\n                      </Link>\n                    </Menu.Item>\n                    <Menu.Item key=\"mix\">\n                      <Link to=\"/mix\">Mix</Link>\n                    </Menu.Item>\n                  </Menu>\n                </Layout.Header>\n\n                <Layout.Content className=\"AppLayout__content\">\n                  <PlantMap\n                    plants={plants}\n                    rivers={rivers}\n                    currentPlantId={currentPlantId}\n                    onPlantClick={plant => goTo(`/plant/${plant.id}`)}\n                    drawerHeight={drawerHeight}\n                  />\n                </Layout.Content>\n              </Col>\n            </Row>\n          </Layout>\n        )}\n      </Spin>\n    </div>\n  );\n}\n\nAppLayout.propTypes = {\n  isLoaded: PropTypes.bool.isRequired,\n  plants: PropTypes.arrayOf(PlantType).isRequired,\n  goTo: PropTypes.func.isRequired,\n  isFullPage: PropTypes.bool.isRequired,\n  currentPlantId: PropTypes.string,\n  // eslint-disable-next-line react/forbid-prop-types\n  rivers: PropTypes.array.isRequired,\n};\n\nAppLayout.defaultProps = {\n  currentPlantId: null,\n};\n\n// withRouter needed to prevent blocking\nexport default withRouter(\n  connect((state, props) => {\n    const matchPlantPath = matchPath(props.location.pathname, {\n      path: '/plant/:id',\n      exact: false,\n    });\n    return {\n      isLoaded:\n        plantsLoadedSelector(state) &&\n        reactorsLoadedSelector(state) &&\n        productionsLoadedSelector(state) &&\n        mixLoadedSelector(state) &&\n        unavailabilitiesLoadedSelector(state) &&\n        riversLoadedSelector(state),\n      plants: plantsSelector(state),\n      rivers: riversSelector(state),\n      goTo: url => props.history.push(url),\n      currentPlantId: matchPlantPath && matchPlantPath.params.id,\n      isFullPage: !!matchPath(props.location.pathname, {\n        path: ['/plant/:id/:reactorIndex', '/mix'],\n      }),\n    };\n  })(AppLayout),\n);\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { HashRouter as Router, Route } from 'react-router-dom';\n\nimport store from './store';\n\nimport AppLayout from './components/AppLayout';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Provider store={store}>\n        <Router>\n          <Route path=\"/\">\n            <AppLayout />\n          </Route>\n        </Router>\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport './utils/svg-icons';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// eslint-disable-next-line react/jsx-filename-extension\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import PropTypes from 'prop-types';\n\nexport const ProductionType = PropTypes.shape({\n  startDate: PropTypes.string.isRequired,\n  endDate: PropTypes.string.isRequired,\n  updatedDate: PropTypes.string.isRequired,\n  value: PropTypes.number.isRequired,\n});\n\nexport const PlantType = PropTypes.shape({\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  coords: PropTypes.arrayOf(PropTypes.number).isRequired,\n  coolingType: PropTypes.string.isRequired,\n  coolingPlace: PropTypes.string.isRequired,\n  hasCoolingTower: PropTypes.bool.isRequired,\n  wikiLink: PropTypes.string.isRequired,\n  asnLink: PropTypes.string.isRequired,\n});\n\nexport const ReactorType = PropTypes.shape({\n  eicCode: PropTypes.string.isRequired,\n  plantId: PropTypes.string.isRequired,\n  reactorIndex: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  stage: PropTypes.string.isRequired,\n  power_MW: PropTypes.number.isRequired,\n  buildStartYear: PropTypes.number.isRequired,\n  gridLinkYear: PropTypes.number.isRequired,\n  exploitationStartYear: PropTypes.number.isRequired,\n  dayProductions: PropTypes.arrayOf(ProductionType).isRequired,\n});\n\nexport const MixType = PropTypes.shape({\n  isOk: PropTypes.bool.isRequired,\n  datetime: PropTypes.number.isRequired,\n  wind: PropTypes.number.isRequired,\n  solar: PropTypes.number.isRequired,\n  nuclear: PropTypes.number.isRequired,\n  gas: PropTypes.number.isRequired,\n  oil: PropTypes.number.isRequired,\n  coal: PropTypes.number.isRequired,\n  consumption: PropTypes.number.isRequired,\n  biomass: PropTypes.number.isRequired,\n  hydroPumped: PropTypes.number.isRequired,\n  hydro: PropTypes.number.isRequired,\n  imports: PropTypes.number.isRequired,\n  exports: PropTypes.number.isRequired,\n});\n"],"sourceRoot":""}